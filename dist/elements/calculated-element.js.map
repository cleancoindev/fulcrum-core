{"version":3,"sources":["../../src/elements/calculated-element.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAGe,MAAM,iBAAiB,kCAAwB;AAC5D,aAAW,CAAC,MAAM,EAAE,UAAU,EAAE;AAC9B,SAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;;AAE1B,QAAI,CAAC,UAAU,GAAG,UAAU,CAAC,UAAU,CAAC;AACxC,QAAI,CAAC,OAAO,GAAG,6BAAmB,UAAU,CAAC,OAAO,CAAC,CAAC;GACvD;;AAED,SAAO,yBAAyB,CAAC,IAAI,EAAE,SAAS,EAAE;AAChD,QAAI,SAAS,CAAC,IAAI,IAAI,IAAI,EAAE;AAC1B,UAAI,SAAS,CAAC,gBAAgB,EAAE;AAC9B,eAAO,iBAAiB,CAAC,yBAAyB,CAAC,IAAI,EAAE,SAAS,CAAC,MAAM,CAAC,CAAC;OAC5E,MAAM,IAAI,SAAS,CAAC,mBAAmB,EAAE;AACxC,eAAO,SAAS,CAAC;OAClB;KACF;AACD,WAAO,IAAI,CAAC;GACb;;AAED,SAAO,kCAAkC,CAAC,SAAS,EAAE;AACnD,QAAI,QAAQ,GAAG,EAAE,CAAC;;AAElB,SAAK,IAAI,OAAO,IAAI,SAAS,CAAC,QAAQ,EAAE;AACtC,UAAI,OAAO,CAAC,mBAAmB,EAAE;AAC/B,gBAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;OACxB,MAAM,IAAI,OAAO,CAAC,gBAAgB,EAAE;AACnC,gBAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,iBAAiB,CAAC,kCAAkC,CAAC,OAAO,CAAC,CAAC,CAAC;OAC3F;KACF;;AAED,WAAO,QAAQ,CAAC;GACjB;CACF;kBAhCoB,iBAAiB","file":"calculated-element.js","sourcesContent":["import TextualElement from './textual-element';\nimport DisplayOptions from './display-options';\n\nexport default class CalculatedElement extends TextualElement {\n  constructor(parent, attributes) {\n    super(parent, attributes);\n\n    this.expression = attributes.expression;\n    this.display = new DisplayOptions(attributes.display);\n  }\n\n  static findCalculatedElementRoot(form, container) {\n    if (container.type != null) {\n      if (container.isSectionElement) {\n        return CalculatedElement.findCalculatedElementRoot(form, container.parent);\n      } else if (container.isRepeatableElement) {\n        return container;\n      }\n    }\n    return form;\n  }\n\n  static findCalculatedElementsForContainer(container) {\n    let elements = [];\n\n    for (let element of container.elements) {\n      if (element.isCalculatedElement) {\n        elements.push(element);\n      } else if (element.isSectionElement) {\n        elements = elements.concat(CalculatedElement.findCalculatedElementsForContainer(element));\n      }\n    }\n\n    return elements;\n  }\n}\n"]}