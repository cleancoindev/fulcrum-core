{"version":3,"sources":["../../src/elements/calculated-element.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;IAGqB,iBAAiB;YAAjB,iBAAiB;;AACpC,WADmB,iBAAiB,CACxB,MAAM,EAAE,UAAU,EAAE;0BADb,iBAAiB;;uEAAjB,iBAAiB,aAE5B,MAAM,EAAE,UAAU;;AAExB,UAAK,UAAU,GAAG,UAAU,CAAC,UAAU,CAAC;AACxC,UAAK,OAAO,GAAG,6BAAmB,UAAU,CAAC,OAAO,CAAC,CAAC;;GACvD;;eANkB,iBAAiB;;8CAQH,IAAI,EAAE,SAAS,EAAE;AAChD,UAAI,SAAS,CAAC,IAAI,IAAI,IAAI,EAAE;AAC1B,YAAI,SAAS,CAAC,gBAAgB,EAAE,EAAE;AAChC,iBAAO,iBAAiB,CAAC,yBAAyB,CAAC,IAAI,EAAE,SAAS,CAAC,MAAM,CAAC,CAAC;SAC5E,MAAM,IAAI,SAAS,CAAC,mBAAmB,EAAE,EAAE;AAC1C,iBAAO,SAAS,CAAC;SAClB;OACF;AACD,aAAO,IAAI,CAAC;KACb;;;uDAEyC,SAAS,EAAE;AACnD,UAAI,QAAQ,GAAG,EAAE,CAAC;;;;;;;AAElB,6BAAoB,SAAS,CAAC,QAAQ,8HAAE;cAA/B,OAAO;;AACd,cAAI,OAAO,CAAC,mBAAmB,EAAE,EAAE;AACjC,oBAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;WACxB,MAAM,IAAI,OAAO,CAAC,gBAAgB,EAAE,EAAE;AACrC,oBAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,iBAAiB,CAAC,kCAAkC,CAAC,OAAO,CAAC,CAAC,CAAC;WAC3F;SACF;;;;;;;;;;;;;;;;AAED,aAAO,QAAQ,CAAC;KACjB;;;SA/BkB,iBAAiB;;;kBAAjB,iBAAiB","file":"calculated-element.js","sourcesContent":["import TextualElement from './textual-element';\nimport DisplayOptions from './display-options';\n\nexport default class CalculatedElement extends TextualElement {\n  constructor(parent, attributes) {\n    super(parent, attributes);\n\n    this.expression = attributes.expression;\n    this.display = new DisplayOptions(attributes.display);\n  }\n\n  static findCalculatedElementRoot(form, container) {\n    if (container.type != null) {\n      if (container.isSectionElement()) {\n        return CalculatedElement.findCalculatedElementRoot(form, container.parent);\n      } else if (container.isRepeatableElement()) {\n        return container;\n      }\n    }\n    return form;\n  }\n\n  static findCalculatedElementsForContainer(container) {\n    let elements = [];\n\n    for (let element of container.elements) {\n      if (element.isCalculatedElement()) {\n        elements.push(element);\n      } else if (element.isSectionElement()) {\n        elements = elements.concat(CalculatedElement.findCalculatedElementsForContainer(element));\n      }\n    }\n\n    return elements;\n  }\n}\n"]}