{"version":3,"sources":["../../src/elements/calculated-element.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAGe,MAAM,iBAAN,kCAA+C;AAC5D,cAAY,MAAZ,EAAoB,UAApB,EAAgC;AAC9B,UAAM,MAAN,EAAc,UAAd,EAD8B;;AAG9B,SAAK,UAAL,GAAkB,WAAW,UAAX,CAHY;AAI9B,SAAK,OAAL,GAAe,6BAAmB,WAAW,OAAX,CAAlC,CAJ8B;GAAhC;;AAOA,SAAO,yBAAP,CAAiC,IAAjC,EAAuC,SAAvC,EAAkD;AAChD,QAAI,UAAU,IAAV,IAAkB,IAAlB,EAAwB;AAC1B,UAAI,UAAU,gBAAV,EAA4B;AAC9B,eAAO,kBAAkB,yBAAlB,CAA4C,IAA5C,EAAkD,UAAU,MAAV,CAAzD,CAD8B;OAAhC,MAEO,IAAI,UAAU,mBAAV,EAA+B;AACxC,eAAO,SAAP,CADwC;OAAnC;KAHT;AAOA,WAAO,IAAP,CARgD;GAAlD;;AAWA,SAAO,kCAAP,CAA0C,SAA1C,EAAqD;AACnD,QAAI,WAAW,EAAX,CAD+C;;AAGnD,SAAK,IAAI,OAAJ,IAAe,UAAU,QAAV,EAAoB;AACtC,UAAI,QAAQ,mBAAR,EAA6B;AAC/B,iBAAS,IAAT,CAAc,OAAd,EAD+B;OAAjC,MAEO,IAAI,QAAQ,gBAAR,EAA0B;AACnC,mBAAW,SAAS,MAAT,CAAgB,kBAAkB,kCAAlB,CAAqD,OAArD,CAAhB,CAAX,CADmC;OAA9B;KAHT;;AAQA,WAAO,QAAP,CAXmD;GAArD;CAnBa;kBAAM","file":"calculated-element.js","sourcesContent":["import TextualElement from './textual-element';\nimport DisplayOptions from './display-options';\n\nexport default class CalculatedElement extends TextualElement {\n  constructor(parent, attributes) {\n    super(parent, attributes);\n\n    this.expression = attributes.expression;\n    this.display = new DisplayOptions(attributes.display);\n  }\n\n  static findCalculatedElementRoot(form, container) {\n    if (container.type != null) {\n      if (container.isSectionElement) {\n        return CalculatedElement.findCalculatedElementRoot(form, container.parent);\n      } else if (container.isRepeatableElement) {\n        return container;\n      }\n    }\n    return form;\n  }\n\n  static findCalculatedElementsForContainer(container) {\n    let elements = [];\n\n    for (let element of container.elements) {\n      if (element.isCalculatedElement) {\n        elements.push(element);\n      } else if (element.isSectionElement) {\n        elements = elements.concat(CalculatedElement.findCalculatedElementsForContainer(element));\n      }\n    }\n\n    return elements;\n  }\n}\n"]}