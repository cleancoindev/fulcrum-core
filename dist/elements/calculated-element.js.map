{"version":3,"sources":["../../src/elements/calculated-element.js"],"names":[],"mappings":";;;;AAAA;;;;AACA;;;;;;;;;;;;;;IAEqB,iB;;;AACnB,6BAAY,MAAZ,EAAoB,UAApB,EAAgC;AAAA;;AAAA,iDAC9B,2BAAM,MAAN,EAAc,UAAd,CAD8B;;AAG9B,UAAK,UAAL,GAAkB,WAAW,UAA7B;AACA,UAAK,OAAL,GAAe,6BAAmB,WAAW,OAA9B,CAAf;AAJ8B;AAK/B;;oBAEM,yB,sCAA0B,I,EAAM,S,EAAW;AAChD,QAAI,UAAU,IAAV,IAAkB,IAAtB,EAA4B;AAC1B,UAAI,UAAU,gBAAd,EAAgC;AAC9B,eAAO,kBAAkB,yBAAlB,CAA4C,IAA5C,EAAkD,UAAU,MAA5D,CAAP;AACD,OAFD,MAEO,IAAI,UAAU,mBAAd,EAAmC;AACxC,eAAO,SAAP;AACD;AACF;AACD,WAAO,IAAP;AACD,G;;oBAEM,kC,+CAAmC,S,EAAW;AACnD,QAAI,WAAW,EAAf;;AAEA,yBAAsB,UAAU,QAAhC,kHAA0C;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,UAA/B,OAA+B;;AACxC,UAAI,QAAQ,mBAAZ,EAAiC;AAC/B,iBAAS,IAAT,CAAc,OAAd;AACD,OAFD,MAEO,IAAI,QAAQ,gBAAZ,EAA8B;AACnC,mBAAW,SAAS,MAAT,CAAgB,kBAAkB,kCAAlB,CAAqD,OAArD,CAAhB,CAAX;AACD;AACF;;AAED,WAAO,QAAP;AACD,G;;;;;kBA/BkB,iB","file":"calculated-element.js","sourcesContent":["import TextualElement from './textual-element';\nimport DisplayOptions from './display-options';\n\nexport default class CalculatedElement extends TextualElement {\n  constructor(parent, attributes) {\n    super(parent, attributes);\n\n    this.expression = attributes.expression;\n    this.display = new DisplayOptions(attributes.display);\n  }\n\n  static findCalculatedElementRoot(form, container) {\n    if (container.type != null) {\n      if (container.isSectionElement) {\n        return CalculatedElement.findCalculatedElementRoot(form, container.parent);\n      } else if (container.isRepeatableElement) {\n        return container;\n      }\n    }\n    return form;\n  }\n\n  static findCalculatedElementsForContainer(container) {\n    let elements = [];\n\n    for (const element of container.elements) {\n      if (element.isCalculatedElement) {\n        elements.push(element);\n      } else if (element.isSectionElement) {\n        elements = elements.concat(CalculatedElement.findCalculatedElementsForContainer(element));\n      }\n    }\n\n    return elements;\n  }\n}\n"]}