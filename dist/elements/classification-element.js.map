{"version":3,"sources":["../../src/elements/classification-element.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAIe,MAAM,qBAAN,2BAA4C;AACzD,cAAY,MAAZ,EAAoB,UAApB,EAAgC;AAC9B,UAAM,MAAN,EAAc,UAAd,EAD8B;;AAG9B,SAAK,UAAL,GAAkB,CAAC,CAAC,WAAW,UAAX,CAHU;AAI9B,SAAK,YAAL,GAAoB,IAApB,CAJ8B;;AAM9B,SAAK,4BAAL,GAAoC,IAApC,CAN8B;;AAQ9B,SAAK,oBAAL,GAA4B,WAAW,qBAAX,CARE;GAAhC;;AAWA,SAAa;;;;;;AAGX,YAAK,iBAAL,GAAyB,MAAM,yBAAe,WAAf,GAA6B,oBAA7B,CAAkD,MAAK,oBAAL,CAAxD;SAHd;GAAb;;AAMA,MAAI,mBAAJ,GAA0B;AACxB,WAAO,KAAK,4BAAL,GAAoC,KAAK,4BAAL,GAAoC,KAAK,uBAAL,CADvD;GAA1B;;AAIA,MAAI,2BAAJ,CAAgC,8BAAhC,EAAgE;AAC9D,QAAI,CAAC,8BAAD,IAAmC,+BAA+B,MAA/B,GAAwC,CAAxC,EAA2C;AAChF,WAAK,4BAAL,GAAoC,IAApC,CADgF;AAEhF,aAFgF;KAAlF;;AAKA,UAAM,sBAAsB,EAAtB,CANwD;;AAQ9D,SAAK,IAAI,wBAAJ,IAAgC,8BAArC,EAAqE;AACnE,YAAM,iBAAiB,6BAAmB,IAAnB,EAAyB,wBAAzB,CAAjB,CAD6D;;AAGnE,0BAAoB,IAApB,CAAyB,cAAzB,EAHmE;KAArE;;AAMA,SAAK,4BAAL,GAAoC,mBAApC,CAd8D;GAAhE;;AAiBA,MAAI,uBAAJ,GAA8B;AAC5B,UAAM,QAAQ,KAAK,iBAAL,CAAuB,KAAvB,CADc;;AAG5B,QAAI,CAAC,KAAK,oBAAL,EAA2B;AAC9B,aAAO,KAAP,CAD8B;KAAhC;;AAIA,UAAM,gBAAgB,EAAhB,CAPsB;;AAS5B,SAAK,IAAI,IAAJ,IAAY,KAAjB,EAAwB;AACtB,WAAK,IAAI,MAAJ,IAAc,KAAK,oBAAL,EAA2B;AAC5C,YAAI,KAAK,KAAL,CAAW,WAAX,GAAyB,OAAzB,CAAiC,OAAO,WAAP,EAAjC,MAA2D,CAAC,CAAD,EAAI;AACjE,wBAAc,IAAd,CAAmB,IAAnB,EADiE;SAAnE;OADF;KADF;;AAQA,WAAO,aAAP,CAjB4B;GAA9B;CAvCa;kBAAM","file":"classification-element.js","sourcesContent":["import Element from './element';\nimport ElementFactory from './element-factory';\nimport Classification from './classification';\n\nexport default class ClassificationElement extends Element {\n  constructor(parent, attributes) {\n    super(parent, attributes);\n\n    this.allowOther = !!attributes.allowOther;\n    this.choiceFilter = null;\n\n    this._overrideClassificationItems = null;\n\n    this._classificationSetID = attributes.classification_set_id;\n  }\n\n  async load() {\n    // const self = this;\n\n    this.classificationSet = await ElementFactory.getProvider().getClassificationSet(this._classificationSetID);\n  }\n\n  get classificationItems() {\n    return this._overrideClassificationItems ? this._overrideClassificationItems : this.filteredClassifications;\n  }\n\n  set overrideClassificationItems(overrideClassificationSetItems) {\n    if (!overrideClassificationSetItems || overrideClassificationSetItems.length < 1) {\n      this._overrideClassificationItems = null;\n      return;\n    }\n\n    const classificationItems = [];\n\n    for (let classificationAttributes of overrideClassificationSetItems) {\n      const classification = new Classification(null, classificationAttributes);\n\n      classificationItems.push(classification);\n    }\n\n    this._overrideClassificationItems = classificationItems;\n  }\n\n  get filteredClassifications() {\n    const items = this.classificationSet.items;\n\n    if (!this.classificationFilter) {\n      return items;\n    }\n\n    const filteredItems = [];\n\n    for (let item of items) {\n      for (let filter of this.classificationFilter) {\n        if (item.value.toLowerCase().indexOf(filter.toLowerCase()) !== -1) {\n          filteredItems.push(item);\n        }\n      }\n    }\n\n    return filteredItems;\n  }\n}\n"]}