{"version":3,"sources":["../../src/elements/classification-element.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;IAIqB,qBAAqB;YAArB,qBAAqB;;AACxC,WADmB,qBAAqB,CAC5B,MAAM,EAAE,UAAU,EAAE;0BADb,qBAAqB;;uEAArB,qBAAqB,aAEhC,MAAM,EAAE,UAAU;;AAExB,UAAK,UAAU,GAAG,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC;AAC1C,UAAK,YAAY,GAAG,IAAI,CAAC;;AAEzB,UAAK,4BAA4B,GAAG,IAAI,CAAC;;AAEzC,UAAK,oBAAoB,GAAG,UAAU,CAAC,qBAAqB,CAAC;;AAE7D,QAAI,MAAK,oBAAoB,EAAE;AAC7B,YAAK,iBAAiB,GAAG,yBAAe,WAAW,EAAE,CAAC,oBAAoB,CAAC,MAAK,oBAAoB,CAAC,CAAC;KACvG;;GACF;;eAdkB,qBAAqB;;wBAgBd;AACxB,aAAO,IAAI,CAAC,4BAA4B,GAAG,IAAI,CAAC,4BAA4B,GAAG,IAAI,CAAC,uBAAuB,CAAC;KAC7G;;;sBAE+B,8BAA8B,EAAE;AAC9D,UAAI,CAAC,8BAA8B,IAAI,8BAA8B,CAAC,MAAM,GAAG,CAAC,EAAE;AAChF,YAAI,CAAC,4BAA4B,GAAG,IAAI,CAAC;AACzC,eAAO;OACR;;AAED,UAAM,mBAAmB,GAAG,EAAE,CAAC;;;;;;;AAE/B,6BAAqC,8BAA8B,8HAAE;cAA5D,wBAAwB;;AAC/B,cAAM,cAAc,GAAG,6BAAmB,IAAI,EAAE,wBAAwB,CAAC,CAAC;;AAE1E,6BAAmB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;SAC1C;;;;;;;;;;;;;;;;AAED,UAAI,CAAC,4BAA4B,GAAG,mBAAmB,CAAC;KACzD;;;wBAE6B;AAC5B,UAAM,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;;AAE3C,UAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;AAC9B,eAAO,KAAK,CAAC;OACd;;AAED,UAAM,aAAa,GAAG,EAAE,CAAC;;;;;;;AAEzB,8BAAiB,KAAK,mIAAE;cAAf,IAAI;;;;;;AACX,kCAAmB,IAAI,CAAC,oBAAoB,mIAAE;kBAArC,MAAM;;AACb,kBAAI,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE;AACjE,6BAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;eAC1B;aACF;;;;;;;;;;;;;;;SACF;;;;;;;;;;;;;;;;AAED,aAAO,aAAa,CAAC;KACtB;;;SAvDkB,qBAAqB;;;kBAArB,qBAAqB","file":"classification-element.js","sourcesContent":["import Element from './element';\nimport ElementFactory from './element-factory';\nimport Classification from './classification';\n\nexport default class ClassificationElement extends Element {\n  constructor(parent, attributes) {\n    super(parent, attributes);\n\n    this.allowOther = !!attributes.allowOther;\n    this.choiceFilter = null;\n\n    this._overrideClassificationItems = null;\n\n    this._classificationSetID = attributes.classification_set_id;\n\n    if (this._classificationSetID) {\n      this.classificationSet = ElementFactory.getProvider().getClassificationSet(this._classificationSetID);\n    }\n  }\n\n  get classificationItems() {\n    return this._overrideClassificationItems ? this._overrideClassificationItems : this.filteredClassifications;\n  }\n\n  set overrideClassificationItems(overrideClassificationSetItems) {\n    if (!overrideClassificationSetItems || overrideClassificationSetItems.length < 1) {\n      this._overrideClassificationItems = null;\n      return;\n    }\n\n    const classificationItems = [];\n\n    for (let classificationAttributes of overrideClassificationSetItems) {\n      const classification = new Classification(null, classificationAttributes);\n\n      classificationItems.push(classification);\n    }\n\n    this._overrideClassificationItems = classificationItems;\n  }\n\n  get filteredClassifications() {\n    const items = this.classificationSet.items;\n\n    if (!this.classificationFilter) {\n      return items;\n    }\n\n    const filteredItems = [];\n\n    for (let item of items) {\n      for (let filter of this.classificationFilter) {\n        if (item.value.toLowerCase().indexOf(filter.toLowerCase()) !== -1) {\n          filteredItems.push(item);\n        }\n      }\n    }\n\n    return filteredItems;\n  }\n}\n"]}