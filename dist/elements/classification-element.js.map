{"version":3,"sources":["../../src/elements/classification-element.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;IAGqB;;;AACnB,WADmB,qBACnB,CAAY,MAAZ,EAAoB,UAApB,EAAgC;0BADb,uBACa;;uEADb,kCAEX,QAAQ,aADgB;;AAG9B,UAAK,UAAL,GAAkB,CAAC,CAAC,WAAW,UAAX,CAHU;AAI9B,UAAK,YAAL,GAAoB,IAApB,CAJ8B;;AAM9B,UAAK,4BAAL,GAAoC,IAApC,CAN8B;;AAQ9B,UAAK,oBAAL,GAA4B,WAAW,qBAAX,CARE;;GAAhC;;eADmB;;yBAYd,YAAY,UAAU;;;AACzB,iBAAW,oBAAX,CAAgC,KAAK,oBAAL,EAA2B,UAAC,GAAD,EAAM,iBAAN,EAA4B;AACrF,YAAI,GAAJ,EAAS;AACP,iBAAO,SAAS,GAAT,CAAP,CADO;SAAT;;AAIA,eAAK,iBAAL,GAAyB,iBAAzB,CALqF;;AAOrF,eAAO,UAAP,CAPqF;OAA5B,CAA3D,CADyB;;;;wBAYD;AACxB,aAAO,KAAK,4BAAL,GAAoC,KAAK,4BAAL,GAAoC,KAAK,uBAAL,CADvD;;;;sBAIM,gCAAgC;AAC9D,UAAI,CAAC,8BAAD,IAAmC,+BAA+B,MAA/B,GAAwC,CAAxC,EAA2C;AAChF,aAAK,4BAAL,GAAoC,IAApC,CADgF;AAEhF,eAFgF;OAAlF;;AAKA,UAAM,sBAAsB,EAAtB,CANwD;;;;;;;AAQ9D,6BAAqC,wDAArC,oGAAqE;cAA5D,uCAA4D;;AACnE,cAAM,iBAAiB,6BAAmB,IAAnB,EAAyB,wBAAzB,CAAjB,CAD6D;;AAGnE,8BAAoB,IAApB,CAAyB,cAAzB,EAHmE;SAArE;;;;;;;;;;;;;;OAR8D;;AAc9D,WAAK,4BAAL,GAAoC,mBAApC,CAd8D;;;;wBAiBlC;AAC5B,UAAM,QAAQ,KAAK,iBAAL,CAAuB,KAAvB,CADc;;AAG5B,UAAI,CAAC,KAAK,oBAAL,EAA2B;AAC9B,eAAO,KAAP,CAD8B;OAAhC;;AAIA,UAAM,gBAAgB,EAAhB,CAPsB;;;;;;;AAS5B,8BAAiB,gCAAjB,wGAAwB;cAAf,oBAAe;;;;;;AACtB,kCAAmB,KAAK,oBAAL,2BAAnB,wGAA8C;kBAArC,sBAAqC;;AAC5C,kBAAI,KAAK,KAAL,CAAW,WAAX,GAAyB,OAAzB,CAAiC,OAAO,WAAP,EAAjC,MAA2D,CAAC,CAAD,EAAI;AACjE,8BAAc,IAAd,CAAmB,IAAnB,EADiE;eAAnE;aADF;;;;;;;;;;;;;;WADsB;SAAxB;;;;;;;;;;;;;;OAT4B;;AAiB5B,aAAO,aAAP,CAjB4B;;;;SA7CX","file":"classification-element.js","sourcesContent":["import Element from './element';\nimport Classification from './classification';\n\nexport default class ClassificationElement extends Element {\n  constructor(parent, attributes) {\n    super(parent, attributes);\n\n    this.allowOther = !!attributes.allowOther;\n    this.choiceFilter = null;\n\n    this._overrideClassificationItems = null;\n\n    this._classificationSetID = attributes.classification_set_id;\n  }\n\n  load(dataSource, callback) {\n    dataSource.getClassificationSet(this._classificationSetID, (err, classificationSet) => {\n      if (err) {\n        return callback(err);\n      }\n\n      this.classificationSet = classificationSet;\n\n      return callback();\n    });\n  }\n\n  get classificationItems() {\n    return this._overrideClassificationItems ? this._overrideClassificationItems : this.filteredClassifications;\n  }\n\n  set overrideClassificationItems(overrideClassificationSetItems) {\n    if (!overrideClassificationSetItems || overrideClassificationSetItems.length < 1) {\n      this._overrideClassificationItems = null;\n      return;\n    }\n\n    const classificationItems = [];\n\n    for (let classificationAttributes of overrideClassificationSetItems) {\n      const classification = new Classification(null, classificationAttributes);\n\n      classificationItems.push(classification);\n    }\n\n    this._overrideClassificationItems = classificationItems;\n  }\n\n  get filteredClassifications() {\n    const items = this.classificationSet.items;\n\n    if (!this.classificationFilter) {\n      return items;\n    }\n\n    const filteredItems = [];\n\n    for (let item of items) {\n      for (let filter of this.classificationFilter) {\n        if (item.value.toLowerCase().indexOf(filter.toLowerCase()) !== -1) {\n          filteredItems.push(item);\n        }\n      }\n    }\n\n    return filteredItems;\n  }\n}\n"]}