{"version":3,"sources":["../../src/elements/classification.js"],"names":[],"mappings":";;;;;AAAe,MAAM,cAAN,CAAqB;AAClC,cAAY,MAAZ,EAAoB,UAApB,EAAgC;AAC9B,SAAK,MAAL,GAAc,MAAd,CAD8B;AAE9B,SAAK,KAAL,GAAa,WAAW,KAAX,CAFiB;AAG9B,SAAK,KAAL,GAAa,WAAW,KAAX,IAAoB,WAAW,KAAX,CAHH;AAI9B,SAAK,QAAL,GAAgB,EAAhB,CAJ8B;;AAM9B,QAAI,WAAW,qBAAX,EAAkC;AACpC,WAAK,IAAI,KAAJ,IAAa,WAAW,qBAAX,EAAkC;AAClD,aAAK,QAAL,CAAc,IAAd,CAAmB,IAAI,cAAJ,CAAmB,IAAnB,EAAyB,KAAzB,CAAnB,EADkD;OAApD;KADF;GANF;;AAaA,MAAI,QAAJ,GAAe;;AAEb,UAAM,kBAAkB,EAAlB,CAFO;;AAIb,QAAI,WAAW,IAAX,CAJS;;AAMb,WAAO,YAAY,SAAS,MAAT,EAAiB;AAClC,sBAAgB,IAAhB,CAAqB,QAArB,EADkC;AAElC,iBAAW,SAAS,MAAT,CAFuB;KAApC;;AAKA,QAAI,QAAJ,EAAc;AACZ,sBAAgB,IAAhB,CAAqB,QAArB,EADY;KAAd;;AAIA,WAAO,gBAAgB,OAAhB,EAAP,CAfa;GAAf;;AAkBA,WAAS;AACP,UAAM,SAAS,EAAT,CADC;;AAGP,SAAK,IAAI,IAAJ,IAAY,KAAK,QAAL,EAAe;AAC9B,UAAI,KAAK,KAAL,EAAY;AACd,eAAO,IAAP,CAAY,KAAK,KAAL,CAAZ,CADc;OAAhB;KADF;;AAMA,WAAO,MAAP,CATO;GAAT;CAhCa;kBAAM","file":"classification.js","sourcesContent":["export default class Classification {\n  constructor(parent, attributes) {\n    this.parent = parent;\n    this.label = attributes.label;\n    this.value = attributes.value || attributes.label;\n    this.children = [];\n\n    if (attributes.child_classifications) {\n      for (let child of attributes.child_classifications) {\n        this.children.push(new Classification(this, child));\n      }\n    }\n  }\n\n  get exploded() {\n    // return an array of all classifications including all parent items\n    const classifications = [];\n\n    let iterator = this;\n\n    while (iterator && iterator.parent) {\n      classifications.push(iterator);\n      iterator = iterator.parent;\n    }\n\n    if (iterator) {\n      classifications.push(iterator);\n    }\n\n    return classifications.reverse();\n  }\n\n  toJSON() {\n    const values = [];\n\n    for (let item of this.exploded) {\n      if (item.value) {\n        values.push(item.value);\n      }\n    }\n\n    return values;\n  }\n}\n"]}