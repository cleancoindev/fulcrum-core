{"version":3,"sources":["../../src/elements/classification.js"],"names":[],"mappings":";;;;;;;;IAAqB,c;AACnB,0BAAY,MAAZ,EAAoB,UAApB,EAAgC;AAAA;;AAC9B,SAAK,MAAL,GAAc,MAAd;AACA,SAAK,KAAL,GAAa,WAAW,KAAxB;AACA,SAAK,KAAL,GAAa,WAAW,KAAX,IAAoB,WAAW,KAA5C;AACA,SAAK,MAAL,GAAc,EAAd;;AAEA,QAAI,WAAW,qBAAf,EAAsC;AACpC,2BAAkB,WAAW,qBAA7B,kHAAoD;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,YAA3C,KAA2C;;AAClD,aAAK,MAAL,CAAY,IAAZ,CAAiB,IAAI,cAAJ,CAAmB,IAAnB,EAAyB,KAAzB,CAAjB;AACD;AACF;AACF;;2BAwBD,M,qBAAS;AACP,QAAM,SAAS,EAAf;;AAEA,0BAAiB,KAAK,QAAtB,yHAAgC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,UAAvB,IAAuB;;AAC9B,UAAI,KAAK,KAAT,EAAgB;AACd,eAAO,IAAP,CAAY,KAAK,KAAjB;AACD;AACF;;AAED,WAAO,MAAP;AACD,G;;;;wBAhCW;AACV,aAAO,KAAK,MAAL,CAAY,KAAZ,EAAP;AACD;;;wBAEc;;AAEb,UAAM,kBAAkB,EAAxB;;AAEA,UAAI,WAAW,IAAf;;AAEA,aAAO,YAAY,SAAS,MAA5B,EAAoC;AAClC,wBAAgB,IAAhB,CAAqB,QAArB;AACA,mBAAW,SAAS,MAApB;AACD;;AAED,UAAI,QAAJ,EAAc;AACZ,wBAAgB,IAAhB,CAAqB,QAArB;AACD;;AAED,aAAO,gBAAgB,OAAhB,EAAP;AACD;;;;;;kBAlCkB,c","file":"classification.js","sourcesContent":["export default class Classification {\n  constructor(parent, attributes) {\n    this.parent = parent;\n    this.label = attributes.label;\n    this.value = attributes.value || attributes.label;\n    this._items = [];\n\n    if (attributes.child_classifications) {\n      for (let child of attributes.child_classifications) {\n        this._items.push(new Classification(this, child));\n      }\n    }\n  }\n\n  get items() {\n    return this._items.slice();\n  }\n\n  get exploded() {\n    // return an array of all classifications including all parent items\n    const classifications = [];\n\n    let iterator = this;\n\n    while (iterator && iterator.parent) {\n      classifications.push(iterator);\n      iterator = iterator.parent;\n    }\n\n    if (iterator) {\n      classifications.push(iterator);\n    }\n\n    return classifications.reverse();\n  }\n\n  toJSON() {\n    const values = [];\n\n    for (let item of this.exploded) {\n      if (item.value) {\n        values.push(item.value);\n      }\n    }\n\n    return values;\n  }\n}\n"]}