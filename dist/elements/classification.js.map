{"version":3,"sources":["../../src/elements/classification.js"],"names":[],"mappings":";;;;;AAAe,MAAM,cAAc,CAAC;AAClC,aAAW,CAAC,MAAM,EAAE,UAAU,EAAE;AAC9B,QAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACrB,QAAI,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC;AAC9B,QAAI,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,IAAI,UAAU,CAAC,KAAK,CAAC;AAClD,QAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;;AAEnB,QAAI,UAAU,CAAC,qBAAqB,EAAE;AACpC,WAAK,IAAI,KAAK,IAAI,UAAU,CAAC,qBAAqB,EAAE;AAClD,YAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,cAAc,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;OACrD;KACF;GACF;;AAED,MAAI,QAAQ,GAAG;;AAEb,UAAM,eAAe,GAAG,EAAE,CAAC;;AAE3B,QAAI,QAAQ,GAAG,IAAI,CAAC;;AAEpB,WAAO,QAAQ,IAAI,QAAQ,CAAC,MAAM,EAAE;AAClC,qBAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC/B,cAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC;KAC5B;;AAED,QAAI,QAAQ,EAAE;AACZ,qBAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KAChC;;AAED,WAAO,eAAe,CAAC,OAAO,EAAE,CAAC;GAClC;;AAED,QAAM,GAAG;AACP,UAAM,MAAM,GAAG,EAAE,CAAC;;AAElB,SAAK,IAAI,IAAI,IAAI,IAAI,CAAC,QAAQ,EAAE;AAC9B,UAAI,IAAI,CAAC,KAAK,EAAE;AACd,cAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;OACzB;KACF;;AAED,WAAO,MAAM,CAAC;GACf;CACF;kBA3CoB,cAAc","file":"classification.js","sourcesContent":["export default class Classification {\n  constructor(parent, attributes) {\n    this.parent = parent;\n    this.label = attributes.label;\n    this.value = attributes.value || attributes.label;\n    this.children = [];\n\n    if (attributes.child_classifications) {\n      for (let child of attributes.child_classifications) {\n        this.children.push(new Classification(this, child));\n      }\n    }\n  }\n\n  get exploded() {\n    // return an array of all classifications including all parent items\n    const classifications = [];\n\n    let iterator = this;\n\n    while (iterator && iterator.parent) {\n      classifications.push(iterator);\n      iterator = iterator.parent;\n    }\n\n    if (iterator) {\n      classifications.push(iterator);\n    }\n\n    return classifications.reverse();\n  }\n\n  toJSON() {\n    const values = [];\n\n    for (let item of this.exploded) {\n      if (item.value) {\n        values.push(item.value);\n      }\n    }\n\n    return values;\n  }\n}\n"]}