{"version":3,"sources":["../../src/elements/element.js"],"names":[],"mappings":"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","file":"element.js","sourcesContent":["import Types from './element-types';\nimport Condition from './condition';\n\nlet ElementFactory = null;\n\nexport default class Element {\n  constructor(parent, attributes) {\n    this._parent = parent;\n\n    this._attributes = attributes;\n\n    this._key = attributes.key;\n\n    this._type = attributes.type;\n\n    this._label = attributes.label;\n\n    this._description = attributes.description;\n\n    this._dataName = attributes.data_name;\n\n    this._defaultValue = attributes.default_value;\n\n    this._isRequired = !!attributes.required;\n\n    this._isHidden = !!attributes.hidden;\n\n    this._isDisabled = !!attributes.disabled;\n\n    this._visibleConditionsType = attributes.visible_conditions_type;\n\n    this._visibleConditions = [];\n\n    if (attributes.visible_conditions) {\n      for (let condition of attributes.visible_conditions) {\n        this._visibleConditions.push(new Condition(this, condition));\n      }\n    }\n\n    this._requiredConditionsType = attributes.required_conditions_type;\n\n    this._requiredConditions = [];\n\n    if (attributes.required_conditions) {\n      for (let condition of attributes.required_conditions) {\n        this._requiredConditions.push(new Condition(this, condition));\n      }\n    }\n\n    this._minLength = -1;\n    this._maxLength = -1;\n\n    if (attributes.min_length != null) {\n      this._minLength = +attributes.min_length;\n    }\n\n    if (attributes.max_length != null) {\n      this._maxLength = +attributes.max_length;\n    }\n\n    this._overrideLabel = null;\n    this._overrideDescription = null;\n    this._overrideIsRequired = null;\n    this._overrideIsHidden = null;\n    this._overrideIsDisabled = null;\n    this._overrideMinLength = null;\n    this._overrideMaxLength = null;\n  }\n\n  static factory() {\n    return (ElementFactory = ElementFactory || require('./element-factory').default);\n  }\n\n  static create(parent, attributes) {\n    return Element.factory().create(parent, attributes);\n  }\n\n  static classes() {\n    if (Element._classes == null) {\n      Element._classes = {};\n\n      for (let klass of Object.keys(Types)) {\n        Element._classes[klass] = Element.factory().classes()[Types[klass]];\n      }\n    }\n\n    return Element._classes;\n  }\n\n  get parent() {\n    return this._parent;\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  get key() {\n    return this._key;\n  }\n\n  get label() {\n    return this._overrideLabel ? this._overrideLabel : this._label;\n  }\n\n  get description() {\n    return this._overrideDescription ? this._overrideDescription : this._description;\n  }\n\n  get dataName() {\n    return this._dataName;\n  }\n\n  get defaultValue() {\n    return this._defaultValue;\n  }\n\n  get isRequired() {\n    return this._overrideIsRequired ? this._overrideIsRequired : this._isRequired;\n  }\n\n  get isHidden() {\n    return this._overrideIsHidden ? this._overrideIsHidden : this._isHidden;\n  }\n\n  get isDisabled() {\n    return this._overrideIsDisabled ? this._overrideIsDisabled : this._isDisabled;\n  }\n\n  get visibleConditionsType() {\n    return this._visibleConditionsType;\n  }\n\n  get visibleConditions() {\n    return this._visibleConditions;\n  }\n\n  get requiredConditionsType() {\n    return this._requiredConditionsType;\n  }\n\n  get requiredConditions() {\n    return this._requiredConditions;\n  }\n\n  get minLength() {\n    return this._overrideMinLength ? this._overrideMinLength : this._minLength;\n  }\n\n  get maxLength() {\n    return this._overrideMaxLength ? this._overrideMinLength : this._maxLength;\n  }\n\n  get overrideLabel() {\n    return this._overrideLabel;\n  }\n\n  set overrideLabel(value) {\n    this._overrideLabel = value;\n  }\n\n  get overrideDescription() {\n    return this._overrideDescription;\n  }\n\n  set overrideDescription(value) {\n    this._overrideDescription = value;\n  }\n\n  get overrideIsRequired() {\n    return this._overrideIsRequired;\n  }\n\n  set overrideIsRequired(value) {\n    this._overrideIsRequired = value != null ? !!value : null;\n  }\n\n  get overrideIsHidden() {\n    return this._overrideIsHidden;\n  }\n\n  set overrideIsHidden(value) {\n    this._overrideIsHidden = value != null ? !!value : null;\n  }\n\n  get overrideIsDisabled() {\n    return this._overrideIsDisabled;\n  }\n\n  set overrideIsDisabled(value) {\n    this._overrideIsDisabled = value != null ? !!value : null;\n  }\n\n  get overrideMinLength() {\n    return this._overrideMinLength;\n  }\n\n  set overrideMinLength(value) {\n    this._overrideMinLength = value != null ? +value : null;\n  }\n\n  get overrideMaxLength() {\n    return this._overrideMaxLength;\n  }\n\n  set overrideMaxLength(value) {\n    this._overrideMaxLength = value != null ? +value : null;\n  }\n\n  get overrideValues() {\n    return {\n      overrideLabel: this._overrideLabel,\n      overrideDescription: this._overrideDescription,\n      overrideIsRequired: this._overrideIsRequired,\n      overrideIsHidden: this._overrideIsHidden,\n      overrideIsDisabled: this._overrideIsDisabled,\n      overrideMinLength: this._overrideMinLength,\n      overrideMaxLength: this._overrideMaxLength\n    };\n  }\n\n  resetOverrides() {\n    this._overrideLabel = null;\n    this._overrideDescription = null;\n    this._overrideIsRequired = null;\n    this._overrideIsHidden = null;\n    this._overrideIsDisabled = null;\n    this._overrideMinLength = null;\n    this._overrideMaxLength = null;\n  }\n\n  get isLengthValidationSupported() {\n    return false;\n  }\n\n  get hasMinLength() {\n    return this.minLength > 0;\n  }\n\n  get hasMaxLength() {\n    return this.maxLength > 0;\n  }\n\n  get hasRequiredConditions() {\n    return this.requiredConditions.length !== 0;\n  }\n\n  get hasVisibilityConditions() {\n    return this.visibleConditions.length !== 0;\n  }\n\n  get hasHiddenParent() {\n    if (this.parent == null || this.isHidden) {\n      return this.isHidden;\n    }\n    return this.parent.hasHiddenParent;\n  }\n\n  isType(type) {\n    return this.type === type;\n  }\n\n  get isSectionElement() {\n    return this.isType(Types.SectionElement);\n  }\n\n  get isChoiceElement() {\n    return this.isType(Types.ChoiceElement);\n  }\n\n  get isTextElement() {\n    return this.isType(Types.TextElement);\n  }\n\n  get isDateElement() {\n    return this.isType(Types.DateElement);\n  }\n\n  get isTimeElement() {\n    return this.isType(Types.TimeElement);\n  }\n\n  get isPhotoElement() {\n    return this.isType(Types.PhotoElement);\n  }\n\n  get isVideoElement() {\n    return this.isType(Types.VideoElement);\n  }\n\n  get isAudioElement() {\n    return this.isType(Types.AudioElement);\n  }\n\n  get isClassificationElement() {\n    return this.isType(Types.ClassificationElement);\n  }\n\n  get isSignatureElement() {\n    return this.isType(Types.SignatureElement);\n  }\n\n  get isRepeatableElement() {\n    return this.isType(Types.RepeatableElement);\n  }\n\n  get isAddressElement() {\n    return this.isType(Types.AddressElement);\n  }\n\n  get isLabelElement() {\n    return this.isType(Types.LabelElement);\n  }\n\n  get isYesNoElement() {\n    return this.isType(Types.YesNoElement);\n  }\n\n  get isHyperlinkElement() {\n    return this.isType(Types.HyperlinkElement);\n  }\n\n  get isBarcodeElement() {\n    return this.isType(Types.BarcodeElement);\n  }\n\n  get isCalculatedElement() {\n    return this.isType(Types.CalculatedElement);\n  }\n\n  get isRecordLinkElement() {\n    return this.isType(Types.RecordLinkElement);\n  }\n\n  get isStatusElement() {\n    return this.isType(Types.StatusElement);\n  }\n}\n"]}