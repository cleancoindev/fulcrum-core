{"version":3,"sources":["../../src/elements/element.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAGA,IAAI,cAAc,GAAG,IAAI,CAAC;;IAEL,OAAO;AAC1B,WADmB,OAAO,CACd,MAAM,EAAE,UAAU,EAAE;0BADb,OAAO;;AAExB,QAAI,CAAC,MAAM,GAAG,MAAM,CAAC;;AAErB,QAAI,CAAC,UAAU,GAAG,UAAU,CAAC;;AAE7B,QAAI,CAAC,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC;;AAE1B,QAAI,CAAC,IAAI,GAAG,UAAU,CAAC,IAAI,CAAC;;AAE5B,QAAI,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC;;AAE9B,QAAI,CAAC,WAAW,GAAG,UAAU,CAAC,WAAW,CAAC;;AAE1C,QAAI,CAAC,QAAQ,GAAG,UAAU,CAAC,SAAS,CAAC;;AAErC,QAAI,CAAC,YAAY,GAAG,UAAU,CAAC,aAAa,CAAC;;AAE7C,QAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,UAAU,CAAC,QAAQ,CAAC;;AAEtC,QAAI,CAAC,MAAM,GAAG,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC;;AAElC,QAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,UAAU,CAAC,QAAQ,CAAC;;AAEtC,QAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,UAAU,CAAC,uBAAuB,CAAC;;AAErE,QAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;;AAE5B,QAAI,UAAU,CAAC,kBAAkB,EAAE;;;;;;AACjC,6BAAsB,UAAU,CAAC,kBAAkB,8HAAE;cAA5C,SAAS;;AAChB,cAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,wBAAc,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC;SAC7D;;;;;;;;;;;;;;;KACF;;AAED,QAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,UAAU,CAAC,wBAAwB,CAAC;;AAEvE,QAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;;AAE7B,QAAI,UAAU,CAAC,mBAAmB,EAAE;;;;;;AAClC,8BAAsB,UAAU,CAAC,mBAAmB,mIAAE;cAA7C,SAAS;;AAChB,cAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,wBAAc,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC;SAC9D;;;;;;;;;;;;;;;KACF;;AAED,QAAI,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;AACpB,QAAI,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;;AAEpB,QAAI,UAAU,CAAC,UAAU,IAAI,IAAI,EAAE;AACjC,UAAI,CAAC,SAAS,GAAG,CAAC,UAAU,CAAC,UAAU,CAAC;KACzC;;AAED,QAAI,UAAU,CAAC,UAAU,IAAI,IAAI,EAAE;AACjC,UAAI,CAAC,SAAS,GAAG,CAAC,UAAU,CAAC,UAAU,CAAC;KACzC;GACF;;eAtDkB,OAAO;;2BAuGnB,IAAI,EAAE;AACX,aAAO,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC;KAC3B;;;wBA7BiC;AAChC,aAAO,KAAK,CAAC;KACd;;;wBAEkB;AACjB,aAAO,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;KAC3B;;;wBAEkB;AACjB,aAAO,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;KAC3B;;;wBAE2B;AAC1B,aAAO,IAAI,CAAC,kBAAkB,CAAC,MAAM,KAAK,CAAC,CAAC;KAC7C;;;wBAE6B;AAC5B,aAAO,IAAI,CAAC,kBAAkB,CAAC,MAAM,KAAK,CAAC,CAAC;KAC7C;;;wBAEqB;AACpB,UAAI,IAAI,CAAC,MAAM,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;AACtC,eAAO,IAAI,CAAC,MAAM,CAAC;OACpB;AACD,aAAO,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC;KACpC;;;wBAMsB;AACrB,aAAO,IAAI,CAAC,MAAM,CAAC,uBAAM,cAAc,CAAC,CAAC;KAC1C;;;wBAEqB;AACpB,aAAO,IAAI,CAAC,MAAM,CAAC,uBAAM,aAAa,CAAC,CAAC;KACzC;;;wBAEmB;AAClB,aAAO,IAAI,CAAC,MAAM,CAAC,uBAAM,WAAW,CAAC,CAAC;KACvC;;;wBAEmB;AAClB,aAAO,IAAI,CAAC,MAAM,CAAC,uBAAM,WAAW,CAAC,CAAC;KACvC;;;wBAEmB;AAClB,aAAO,IAAI,CAAC,MAAM,CAAC,uBAAM,WAAW,CAAC,CAAC;KACvC;;;wBAEoB;AACnB,aAAO,IAAI,CAAC,MAAM,CAAC,uBAAM,YAAY,CAAC,CAAC;KACxC;;;wBAEoB;AACnB,aAAO,IAAI,CAAC,MAAM,CAAC,uBAAM,YAAY,CAAC,CAAC;KACxC;;;wBAEoB;AACnB,aAAO,IAAI,CAAC,MAAM,CAAC,uBAAM,YAAY,CAAC,CAAC;KACxC;;;wBAE6B;AAC5B,aAAO,IAAI,CAAC,MAAM,CAAC,uBAAM,qBAAqB,CAAC,CAAC;KACjD;;;wBAEwB;AACvB,aAAO,IAAI,CAAC,MAAM,CAAC,uBAAM,gBAAgB,CAAC,CAAC;KAC5C;;;wBAEyB;AACxB,aAAO,IAAI,CAAC,MAAM,CAAC,uBAAM,iBAAiB,CAAC,CAAC;KAC7C;;;wBAEsB;AACrB,aAAO,IAAI,CAAC,MAAM,CAAC,uBAAM,cAAc,CAAC,CAAC;KAC1C;;;wBAEoB;AACnB,aAAO,IAAI,CAAC,MAAM,CAAC,uBAAM,YAAY,CAAC,CAAC;KACxC;;;wBAEoB;AACnB,aAAO,IAAI,CAAC,MAAM,CAAC,uBAAM,YAAY,CAAC,CAAC;KACxC;;;wBAEwB;AACvB,aAAO,IAAI,CAAC,MAAM,CAAC,uBAAM,gBAAgB,CAAC,CAAC;KAC5C;;;wBAEsB;AACrB,aAAO,IAAI,CAAC,MAAM,CAAC,uBAAM,cAAc,CAAC,CAAC;KAC1C;;;wBAEyB;AACxB,aAAO,IAAI,CAAC,MAAM,CAAC,uBAAM,iBAAiB,CAAC,CAAC;KAC7C;;;wBAEyB;AACxB,aAAO,IAAI,CAAC,MAAM,CAAC,uBAAM,iBAAiB,CAAC,CAAC;KAC7C;;;8BAzHgB;AACf,aAAQ,cAAc,GAAG,cAAc,IAAI,OAAO,CAAC,mBAAmB,CAAC,CAAC,OAAO,CAAE;KAClF;;;2BAEa,MAAM,EAAE,UAAU,EAAE;AAChC,aAAO,OAAO,CAAC,OAAO,EAAE,CAAC,MAAM,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;KACrD;;;8BAEgB;AACf,UAAI,OAAO,CAAC,QAAQ,IAAI,IAAI,EAAE;AAC5B,eAAO,CAAC,QAAQ,GAAG,EAAE,CAAC;;;;;;;AAEtB,gCAAkB,MAAM,CAAC,IAAI,wBAAO,mIAAE;gBAA7B,KAAK;;AACZ,mBAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,OAAO,EAAE,CAAC,OAAO,EAAE,CAAC,uBAAM,KAAK,CAAC,CAAC,CAAC;WACrE;;;;;;;;;;;;;;;OACF;;AAED,aAAO,OAAO,CAAC,QAAQ,CAAC;KACzB;;;SA1EkB,OAAO;;;kBAAP,OAAO","file":"element.js","sourcesContent":["import Types from './element-types';\nimport Condition from './condition';\n\nlet ElementFactory = null;\n\nexport default class Element {\n  constructor(parent, attributes) {\n    this.parent = parent;\n\n    this.attributes = attributes;\n\n    this.key = attributes.key;\n\n    this.type = attributes.type;\n\n    this.label = attributes.label;\n\n    this.description = attributes.description;\n\n    this.dataName = attributes.data_name;\n\n    this.defaultValue = attributes.default_value;\n\n    this.required = !!attributes.required;\n\n    this.hidden = !!attributes.hidden;\n\n    this.disabled = !!attributes.disabled;\n\n    this.visibleConditionsType = this.attributes.visible_conditions_type;\n\n    this.visibleConditions = [];\n\n    if (attributes.visible_conditions) {\n      for (let condition of attributes.visible_conditions) {\n        this.visibleConditions.push(new Condition(this, condition));\n      }\n    }\n\n    this.requiredConditionsType = this.attributes.required_conditions_type;\n\n    this.requiredConditions = [];\n\n    if (attributes.required_conditions) {\n      for (let condition of attributes.required_conditions) {\n        this.requiredConditions.push(new Condition(this, condition));\n      }\n    }\n\n    this.minLength = -1;\n    this.maxLength = -1;\n\n    if (attributes.min_length != null) {\n      this.minLength = +attributes.min_length;\n    }\n\n    if (attributes.max_length != null) {\n      this.maxLength = +attributes.max_length;\n    }\n  }\n\n  static factory() {\n    return (ElementFactory = ElementFactory || require('./element-factory').default);\n  }\n\n  static create(parent, attributes) {\n    return Element.factory().create(parent, attributes);\n  }\n\n  static classes() {\n    if (Element._classes == null) {\n      Element._classes = {};\n\n      for (let klass of Object.keys(Types)) {\n        Element._classes[klass] = Element.factory().classes()[Types[klass]];\n      }\n    }\n\n    return Element._classes;\n  }\n\n  get isLengthValidationSupported() {\n    return false;\n  }\n\n  get hasMinLength() {\n    return this.minLength > 0;\n  }\n\n  get hasMaxLength() {\n    return this.maxLength > 0;\n  }\n\n  get hasRequiredConditions() {\n    return this.requiredConditions.length !== 0;\n  }\n\n  get hasVisibilityConditions() {\n    return this.requiredConditions.length !== 0;\n  }\n\n  get hasHiddenParent() {\n    if (this.parent == null || this.hidden) {\n      return this.hidden;\n    }\n    return this.parent.hasHiddenParent;\n  }\n\n  isType(type) {\n    return this.type === type;\n  }\n\n  get isSectionElement() {\n    return this.isType(Types.SectionElement);\n  }\n\n  get isChoiceElement() {\n    return this.isType(Types.ChoiceElement);\n  }\n\n  get isTextElement() {\n    return this.isType(Types.TextElement);\n  }\n\n  get isDateElement() {\n    return this.isType(Types.DateElement);\n  }\n\n  get isTimeElement() {\n    return this.isType(Types.TimeElement);\n  }\n\n  get isPhotoElement() {\n    return this.isType(Types.PhotoElement);\n  }\n\n  get isVideoElement() {\n    return this.isType(Types.VideoElement);\n  }\n\n  get isAudioElement() {\n    return this.isType(Types.AudioElement);\n  }\n\n  get isClassificationElement() {\n    return this.isType(Types.ClassificationElement);\n  }\n\n  get isSignatureElement() {\n    return this.isType(Types.SignatureElement);\n  }\n\n  get isRepeatableElement() {\n    return this.isType(Types.RepeatableElement);\n  }\n\n  get isAddressElement() {\n    return this.isType(Types.AddressElement);\n  }\n\n  get isLabelElement() {\n    return this.isType(Types.LabelElement);\n  }\n\n  get isYesNoElement() {\n    return this.isType(Types.YesNoElement);\n  }\n\n  get isHyperlinkElement() {\n    return this.isType(Types.HyperlinkElement);\n  }\n\n  get isBarcodeElement() {\n    return this.isType(Types.BarcodeElement);\n  }\n\n  get isCalculatedElement() {\n    return this.isType(Types.CalculatedElement);\n  }\n\n  get isRecordLinkElement() {\n    return this.isType(Types.RecordLinkElement);\n  }\n}\n"]}