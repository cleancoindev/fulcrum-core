{"version":3,"sources":["../../src/elements/element.js"],"names":[],"mappings":"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","file":"element.js","sourcesContent":["import Types from './element-types';\nimport Condition from './condition';\n\nlet ElementFactory = null;\n\nexport default class Element {\n  constructor(parent, attributes) {\n    this.parent = parent;\n\n    this.attributes = attributes;\n\n    this.key = attributes.key;\n\n    this.type = attributes.type;\n\n    this.label = attributes.label;\n\n    this.description = attributes.description;\n\n    this.dataName = attributes.data_name;\n\n    this.defaultValue = attributes.default_value;\n\n    this.required = !!attributes.required;\n\n    this.hidden = !!attributes.hidden;\n\n    this.disabled = !!attributes.disabled;\n\n    this.visibleConditionsType = this.attributes.visible_conditions_type;\n\n    this.visibleConditions = [];\n\n    if (attributes.visible_conditions) {\n      for (let condition of attributes.visible_conditions) {\n        this.visibleConditions.push(new Condition(this, condition));\n      }\n    }\n\n    this.requiredConditionsType = this.attributes.required_conditions_type;\n\n    this.requiredConditions = [];\n\n    if (attributes.required_conditions) {\n      for (let condition of attributes.required_conditions) {\n        this.requiredConditions.push(new Condition(this, condition));\n      }\n    }\n\n    this.minLength = -1;\n    this.maxLength = -1;\n\n    if (attributes.min_length != null) {\n      this.minLength = +attributes.min_length;\n    }\n\n    if (attributes.max_length != null) {\n      this.maxLength = +attributes.max_length;\n    }\n  }\n\n  static factory() {\n    return (ElementFactory = ElementFactory || require('./element-factory').default);\n  }\n\n  static create(parent, attributes) {\n    return Element.factory().create(parent, attributes);\n  }\n\n  static classes() {\n    if (Element._classes == null) {\n      Element._classes = {};\n\n      for (let klass of Object.keys(Types)) {\n        Element._classes[klass] = Element.factory().classes()[Types[klass]];\n      }\n    }\n\n    return Element._classes;\n  }\n\n  get isLengthValidationSupported() {\n    return false;\n  }\n\n  get hasMinLength() {\n    return this.minLength > 0;\n  }\n\n  get hasMaxLength() {\n    return this.maxLength > 0;\n  }\n\n  get hasRequiredConditions() {\n    return this.requiredConditions.length !== 0;\n  }\n\n  get hasVisibilityConditions() {\n    return this.visibleConditions.length !== 0;\n  }\n\n  get hasHiddenParent() {\n    if (this.parent == null || this.hidden) {\n      return this.hidden;\n    }\n    return this.parent.hasHiddenParent;\n  }\n\n  isType(type) {\n    return this.type === type;\n  }\n\n  get isSectionElement() {\n    return this.isType(Types.SectionElement);\n  }\n\n  get isChoiceElement() {\n    return this.isType(Types.ChoiceElement);\n  }\n\n  get isTextElement() {\n    return this.isType(Types.TextElement);\n  }\n\n  get isDateElement() {\n    return this.isType(Types.DateElement);\n  }\n\n  get isTimeElement() {\n    return this.isType(Types.TimeElement);\n  }\n\n  get isPhotoElement() {\n    return this.isType(Types.PhotoElement);\n  }\n\n  get isVideoElement() {\n    return this.isType(Types.VideoElement);\n  }\n\n  get isAudioElement() {\n    return this.isType(Types.AudioElement);\n  }\n\n  get isClassificationElement() {\n    return this.isType(Types.ClassificationElement);\n  }\n\n  get isSignatureElement() {\n    return this.isType(Types.SignatureElement);\n  }\n\n  get isRepeatableElement() {\n    return this.isType(Types.RepeatableElement);\n  }\n\n  get isAddressElement() {\n    return this.isType(Types.AddressElement);\n  }\n\n  get isLabelElement() {\n    return this.isType(Types.LabelElement);\n  }\n\n  get isYesNoElement() {\n    return this.isType(Types.YesNoElement);\n  }\n\n  get isHyperlinkElement() {\n    return this.isType(Types.HyperlinkElement);\n  }\n\n  get isBarcodeElement() {\n    return this.isType(Types.BarcodeElement);\n  }\n\n  get isCalculatedElement() {\n    return this.isType(Types.CalculatedElement);\n  }\n\n  get isRecordLinkElement() {\n    return this.isType(Types.RecordLinkElement);\n  }\n}\n"]}