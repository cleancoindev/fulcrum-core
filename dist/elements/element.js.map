{"version":3,"sources":["../../src/elements/element.js"],"names":[],"mappings":"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","file":"element.js","sourcesContent":["import Types from './element-types';\nimport Condition from './condition';\n\nlet ElementFactory = null;\n\nexport default class Element {\n  constructor(parent, attributes) {\n    this.parent = parent;\n\n    this.attributes = attributes;\n\n    this.key = attributes.key;\n\n    this.type = attributes.type;\n\n    this.label = attributes.label;\n\n    this.description = attributes.description;\n\n    this.dataName = attributes.data_name;\n\n    this.defaultValue = attributes.default_value;\n\n    this.required = !!attributes.required;\n\n    this.hidden = !!attributes.hidden;\n\n    this.disabled = !!attributes.disabled;\n\n    this.visibleConditionsType = this.attributes.visible_conditions_type;\n\n    this.visibleConditions = [];\n\n    if (attributes.visible_conditions) {\n      for (let condition of attributes.visible_conditions) {\n        this.visibleConditions.push(new Condition(this, condition));\n      }\n    }\n\n    this.requiredConditionsType = this.attributes.required_conditions_type;\n\n    this.requiredConditions = [];\n\n    if (attributes.required_conditions) {\n      for (let condition of attributes.required_conditions) {\n        this.requiredConditions.push(new Condition(this, condition));\n      }\n    }\n\n    this.minLength = -1;\n    this.maxLength = -1;\n\n    if (attributes.min_length != null) {\n      this.minLength = +attributes.min_length;\n    }\n\n    if (attributes.max_length != null) {\n      this.maxLength = +attributes.max_length;\n    }\n  }\n\n  static factory() {\n    return (ElementFactory = ElementFactory || require('./element-factory').default);\n  }\n\n  static create(parent, attributes) {\n    return Element.factory().create(parent, attributes);\n  }\n\n  static classes() {\n    if (Element._classes == null) {\n      Element._classes = {};\n\n      for (let klass of Object.keys(Types)) {\n        Element._classes[klass] = Element.factory().classes()[Types[klass]];\n      }\n    }\n\n    return Element._classes;\n  }\n\n  get isLengthValidationSupported() {\n    return false;\n  }\n\n  get hasMinLength() {\n    return this.minLength > 0;\n  }\n\n  get hasMaxLength() {\n    return this.maxLength > 0;\n  }\n\n  get hasRequiredConditions() {\n    return this.requiredConditions.length !== 0;\n  }\n\n  get hasVisibilityConditions() {\n    return this.requiredConditions.length !== 0;\n  }\n\n  get hasHiddenParent() {\n    if (this.parent == null || this.hidden) {\n      return this.hidden;\n    }\n    return this.parent.hasHiddenParent;\n  }\n\n  isType(type) {\n    return this.type === type;\n  }\n\n  get isSectionElement() {\n    return this.isType(Types.SectionElement);\n  }\n\n  get isChoiceElement() {\n    return this.isType(Types.ChoiceElement);\n  }\n\n  get isTextElement() {\n    return this.isType(Types.TextElement);\n  }\n\n  get isDateElement() {\n    return this.isType(Types.DateElement);\n  }\n\n  get isTimeElement() {\n    return this.isType(Types.TimeElement);\n  }\n\n  get isPhotoElement() {\n    return this.isType(Types.PhotoElement);\n  }\n\n  get isVideoElement() {\n    return this.isType(Types.VideoElement);\n  }\n\n  get isAudioElement() {\n    return this.isType(Types.AudioElement);\n  }\n\n  get isClassificationElement() {\n    return this.isType(Types.ClassificationElement);\n  }\n\n  get isSignatureElement() {\n    return this.isType(Types.SignatureElement);\n  }\n\n  get isRepeatableElement() {\n    return this.isType(Types.RepeatableElement);\n  }\n\n  get isAddressElement() {\n    return this.isType(Types.AddressElement);\n  }\n\n  get isLabelElement() {\n    return this.isType(Types.LabelElement);\n  }\n\n  get isYesNoElement() {\n    return this.isType(Types.YesNoElement);\n  }\n\n  get isHyperlinkElement() {\n    return this.isType(Types.HyperlinkElement);\n  }\n\n  get isBarcodeElement() {\n    return this.isType(Types.BarcodeElement);\n  }\n\n  get isCalculatedElement() {\n    return this.isType(Types.CalculatedElement);\n  }\n\n  get isRecordLinkElement() {\n    return this.isType(Types.RecordLinkElement);\n  }\n}\n"]}