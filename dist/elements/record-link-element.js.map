{"version":3,"sources":["../../src/elements/record-link-element.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;IAIqB;;;AACnB,WADmB,iBACnB,CAAY,MAAZ,EAAoB,UAApB,EAAgC;0BADb,mBACa;;uEADb,8BAEX,QAAQ,aADgB;;AAG9B,UAAK,OAAL,GAAe,WAAW,OAAX,CAHe;;AAK9B,UAAK,aAAL,GAAqB,CAAC,CAAC,WAAW,sBAAX,CALO;AAM9B,UAAK,aAAL,GAAqB,CAAC,CAAC,WAAW,sBAAX,CANO;AAO9B,UAAK,aAAL,GAAqB,CAAC,CAAC,WAAW,sBAAX,CAPO;AAQ9B,UAAK,aAAL,GAAqB,CAAC,CAAC,WAAW,sBAAX;;;AARO,SAW9B,CAAK,oBAAL,GAA4B,WAAW,sBAAX,CAXE;;AAa9B,UAAK,gBAAL,GAAwB,EAAxB,CAb8B;;AAe9B,QAAI,WAAW,iBAAX,EAA8B;;;;;;AAChC,6BAAwB,WAAW,iBAAX,0BAAxB,oGAAsD;cAA3C,wBAA2C;;AACpD,gBAAK,gBAAL,CAAsB,IAAtB,CAA2B,kCAAwB,SAAxB,CAA3B,EADoD;SAAtD;;;;;;;;;;;;;;OADgC;KAAlC;;AAMA,UAAK,cAAL,GAAsB,EAAtB,CArB8B;;AAuB9B,QAAI,WAAW,eAAX,EAA4B;;;;;;AAC9B,8BAAkB,WAAW,eAAX,2BAAlB,wGAA8C;cAAnC,mBAAmC;;AAC5C,gBAAK,cAAL,CAAoB,IAApB,CAAyB,gCAAsB,GAAtB,CAAzB,EAD4C;SAA9C;;;;;;;;;;;;;;OAD8B;KAAhC;iBAvB8B;GAAhC;;eADmB;;yBA+Bd,YAAY,UAAU;;;AACzB,iBAAW,OAAX,CAAmB,KAAK,OAAL,EAAc,UAAC,GAAD,EAAM,IAAN,EAAe;AAC9C,YAAI,GAAJ,EAAS;AACP,iBAAO,SAAS,GAAT,CAAP,CADO;SAAT;;AAIA,eAAK,IAAL,GAAY,IAAZ,CAL8C;;AAO9C,eAAO,UAAP,CAP8C;OAAf,CAAjC,CADyB;;;;SA/BR","file":"record-link-element.js","sourcesContent":["import Element from './element';\nimport RecordLinkCondition from './record-link-condition';\nimport RecordLinkDefault from './record-link-default';\n\nexport default class RecordLinkElement extends Element {\n  constructor(parent, attributes) {\n    super(parent, attributes);\n\n    this._formID = attributes.form_id;\n\n    this.allowMultiple = !!attributes.allow_multiple_records;\n    this.allowExisting = !!attributes.allow_existing_records;\n    this.allowCreating = !!attributes.allow_creating_records;\n    this.allowUpdating = !!attributes.allow_updating_records;\n\n    // TODO(zhm) model these\n    this.recordConditionsType = attributes.record_conditions_type;\n\n    this.recordConditions = [];\n\n    if (attributes.record_conditions) {\n      for (const condition of attributes.record_conditions) {\n        this.recordConditions.push(new RecordLinkCondition(condition));\n      }\n    }\n\n    this.recordDefaults = [];\n\n    if (attributes.record_defaults) {\n      for (const def of attributes.record_defaults) {\n        this.recordDefaults.push(new RecordLinkDefault(def));\n      }\n    }\n  }\n\n  load(dataSource, callback) {\n    dataSource.getForm(this._formID, (err, form) => {\n      if (err) {\n        return callback(err);\n      }\n\n      this.form = form;\n\n      return callback();\n    });\n  }\n}\n\n"]}