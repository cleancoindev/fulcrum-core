{"version":3,"sources":["../../src/utils/date-utils.js"],"names":[],"mappings":"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","file":"date-utils.js","sourcesContent":["import Locale from './locale';\nimport _ from 'lodash';\n\nlet intl = null;\n\nif (typeof Intl !== 'undefined') {\n  intl = global.Intl;\n}\n\nexport default class DateUtils {\n  static parseDate(dateString) {\n    return new Date(dateString.replace(/-/g, '/'));\n  }\n\n  static parseTime(timeString) {\n    if (!((timeString != null) && timeString.length === 5)) {\n      return null;\n    }\n    return timeString;\n  }\n\n  static formatTime(date) {\n    const hours = _.padStart(date.getHours(), 2, '0');\n    const minutes = _.padStart(date.getMinutes(), 2, '0');\n\n    return hours + ':' + minutes;\n  }\n\n  static formatTimeSeconds(seconds) {\n    const ss = +seconds % 60;\n    const div = (+seconds - ss) / 60;\n    const mm = div % 60;\n    const hh = (div - mm) / 60;\n\n    const h = _.padStart(Math.floor(hh), 2, '0');\n    const m = _.padStart(Math.floor(mm), 2, '0');\n    const s = _.padStart(Math.floor(ss), 2, '0');\n\n    return h + ':' + m + ':' + s;\n  }\n\n  static formatTimeParts(hours, minutes, seconds) {\n    const h = _.padStart(+hours, 2, '0');\n    const m = _.padStart(+minutes, 2, '0');\n    const s = _.padStart(+seconds, 2, '0');\n\n    return h + ':' + m + ':' + s;\n  }\n\n  static parseISOTimestamp(timestampString) {\n    if (!timestampString) {\n      return null;\n    }\n\n    return new Date(timestampString);\n  }\n\n  static parseEpochTimestamp(timestampString) {\n    if (!timestampString) {\n      return null;\n    }\n\n    return new Date(parseFloat(timestampString) * 1000);\n  }\n\n  static formatISOTimestamp(date) {\n    if (date == null || isNaN(date.getTime())) {\n      return null;\n    }\n    return date.toISOString();\n  }\n\n  static formatEpochTimestamp(date) {\n    if (date == null || isNaN(date.getTime())) {\n      return null;\n    }\n    return (date.getTime() / 1000).toFixed(3);\n  }\n\n  static formatDate(date) {\n    const year = date.getFullYear();\n    const month = _.padStart(date.getMonth() + 1, 2, '0');\n    const day = _.padStart(date.getDate(), 2, '0');\n\n    return year + '-' + month + '-' + day;\n  }\n\n  static formatLocalizedDate(date) {\n    if (date == null) {\n      return null;\n    }\n    return DateUtils.__formatLocalizedDate(date);\n  }\n\n  static __formatLocalizedDate(date) {\n    if (!Locale.supportsECMA402()) {\n      const year = date.getFullYear();\n      const month = _.padStart(date.getMonth() + 1, 2, '0');\n      const day = _.padStart(date.getDate(), 2, '0');\n      return year + '-' + month + '-' + day;\n    }\n\n    const options = {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    };\n\n    return new intl.DateTimeFormat(Locale.currentLocale(), options).format(date);\n  }\n}\n"]}