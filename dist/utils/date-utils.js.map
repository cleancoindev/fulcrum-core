{"version":3,"sources":["../../src/utils/date-utils.js"],"names":[],"mappings":"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","file":"date-utils.js","sourcesContent":["import Locale from './locale';\nimport padStart from 'lodash.padstart';\nimport relativeDate from 'relative-date';\n\nlet intl = null;\n\nif (typeof Intl !== 'undefined') {\n  intl = global.Intl;\n}\n\nexport default class DateUtils {\n  static parseDate(dateString) {\n    const date = new Date(dateString.replace(/-/g, '/'));\n\n    if (date == null || isNaN(date.getTime())) {\n      return null;\n    }\n\n    return date;\n  }\n\n  static parseTime(timeString) {\n    if (!((timeString != null) && timeString.length === 5)) {\n      return null;\n    }\n\n    let [ hours, minutes ] = timeString.split(':');\n\n    if (hours == null || minutes == null) {\n      return null;\n    }\n\n    hours = +hours;\n    minutes = +minutes;\n\n    if (isNaN(hours) || isNaN(minutes)) {\n      return null;\n    }\n\n    return (hours * 60) + minutes;\n  }\n\n  static formatTime(date) {\n    const hours = padStart(date.getHours(), 2, '0');\n    const minutes = padStart(date.getMinutes(), 2, '0');\n\n    return hours + ':' + minutes;\n  }\n\n  static formatTimeSeconds(seconds, milliseconds = false) {\n    const ss = +seconds % 60;\n    const div = (+seconds - ss) / 60;\n    const mm = div % 60;\n    const hh = (div - mm) / 60;\n    const ms = (ss * 1000 % 1000);\n\n    const h = padStart(Math.floor(hh), 2, '0');\n    const m = padStart(Math.floor(mm), 2, '0');\n    const s = padStart(Math.floor(ss), 2, '0');\n    const u = padStart(Math.floor(ms), 3, '0');\n\n    return h + ':' + m + ':' + s + (milliseconds ? '.' + u : '');\n  }\n\n  static formatTimeParts(hours, minutes, seconds) {\n    const h = padStart(+hours, 2, '0');\n    const m = padStart(+minutes, 2, '0');\n    const s = padStart(+seconds, 2, '0');\n\n    return h + ':' + m + ':' + s;\n  }\n\n  static parseISOTimestamp(timestampString) {\n    if (!timestampString) {\n      return null;\n    }\n\n    return new Date(timestampString);\n  }\n\n  static parseEpochTimestamp(timestampString) {\n    if (!timestampString) {\n      return null;\n    }\n\n    return new Date(parseFloat(timestampString) * 1000);\n  }\n\n  static formatISOTimestamp(date) {\n    if (date == null || isNaN(date.getTime())) {\n      return null;\n    }\n    return date.toISOString();\n  }\n\n  static formatEpochTimestamp(date) {\n    if (date == null || isNaN(date.getTime())) {\n      return null;\n    }\n    return (date.getTime() / 1000).toFixed(3);\n  }\n\n  static isValidTime(timeString) {\n    if (timeString == null) {\n      return true;\n    }\n\n    if (timeString.length !== 5) {\n      return false;\n    }\n\n    const parts = timeString.split(':');\n\n    if (parts.length !== 2) {\n      return false;\n    }\n\n    const [ hourPart, minutePart ] = parts;\n\n    if (hourPart.length !== 2 || minutePart.length !== 2) {\n      return false;\n    }\n\n    const hour = +hourPart;\n    const minute = +minutePart;\n\n    if (isNaN(hour) || isNaN(minute)) {\n      return false;\n    }\n\n    if (hour < 0 || hour >= 24) {\n      return false;\n    }\n\n    if (minute < 0 || minute >= 60) {\n      return false;\n    }\n\n    return true;\n  }\n\n  static isValidDate(dateString) {\n    if (dateString == null) {\n      return true;\n    }\n\n    if (dateString.length !== 10) {\n      return false;\n    }\n\n    const parts = dateString.split('-');\n\n    if (parts.length !== 3) {\n      return false;\n    }\n\n    const [ yearPart, monthPart, dayPart ] = parts;\n\n    if (yearPart.length !== 4 ||\n        monthPart.length !== 2 ||\n        dayPart.length !== 2) {\n      return false;\n    }\n\n    const year = +yearPart;\n    const month = +monthPart;\n    const day = +dayPart;\n\n    if (isNaN(year) || isNaN(month) || isNaN(day)) {\n      return false;\n    }\n\n    const parsed = DateUtils.parseDate(dateString);\n\n    return parsed && !isNaN(parsed);\n  }\n\n  static formatDate(date) {\n    const year = date.getFullYear();\n    const month = padStart(date.getMonth() + 1, 2, '0');\n    const day = padStart(date.getDate(), 2, '0');\n\n    return year + '-' + month + '-' + day;\n  }\n\n  static formatLocalizedDate(date) {\n    if (date == null) {\n      return null;\n    }\n\n    return DateUtils.__formatLocalizedDate(date);\n  }\n\n  static formatLocalizedTimestamp(date) {\n    if (date == null) {\n      return null;\n    }\n\n    return date.toLocaleString();\n  }\n\n  static formatRelativeTimestamp(date) {\n    return relativeDate(date);\n  }\n\n  static __formatLocalizedDate(date) {\n    if (!Locale.supportsECMA402()) {\n      const year = date.getFullYear();\n      const month = padStart(date.getMonth() + 1, 2, '0');\n      const day = padStart(date.getDate(), 2, '0');\n      return year + '-' + month + '-' + day;\n    }\n\n    const options = {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    };\n\n    let result = null;\n\n    try {\n      result = new intl.DateTimeFormat(Locale.currentLocale(), options).format(date);\n    } catch (ex) {\n      // RangeError: Provided date is not in valid range.\n    }\n\n    return result;\n  }\n}\n"]}