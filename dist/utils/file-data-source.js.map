{"version":3,"sources":["../../src/utils/file-data-source.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAOqB;AACnB,WADmB,cACnB,CAAY,IAAZ,EAAkB;0BADC,gBACD;;AAChB,SAAK,IAAL,GAAY,KAAK,QAAL,EAAZ,CADgB;GAAlB;;eADmB;;yBAKd,UAAU;AACb,aAAO,KAAK,KAAL,CAAW,aAAG,YAAH,CAAgB,QAAhB,EAA0B,QAA1B,EAAX,CAAP,CADa;;;;kCAID,IAAI,UAAU;AAC1B,UAAM,WAAW,eAAK,IAAL,CAAU,KAAK,IAAL,EAAW,cAArB,EAAqC,KAAK,OAAL,CAAhD,CADoB;;AAG1B,aAAO,SAAS,IAAT,EAAe,yBAAe,KAAK,IAAL,CAAU,QAAV,EAAoB,WAApB,CAA9B,CAAP,CAH0B;;;;yCAMP,IAAI,UAAU;AACjC,UAAM,WAAW,eAAK,IAAL,CAAU,KAAK,IAAL,EAAW,qBAArB,EAA4C,KAAK,OAAL,CAAvD,CAD2B;;AAGjC,aAAO,SAAS,IAAT,EAAe,gCAAsB,KAAK,IAAL,CAAU,QAAV,EAAoB,kBAApB,CAArC,CAAP,CAHiC;;;;4BAM3B,IAAI,UAAU;AACpB,UAAM,WAAW,eAAK,IAAL,CAAU,KAAK,IAAL,EAAW,OAArB,EAA8B,KAAK,OAAL,CAAzC,CADc;;AAGpB,aAAO,SAAS,IAAT,EAAe,mBAAS,KAAK,IAAL,CAAU,QAAV,EAAoB,IAApB,CAAxB,CAAP,CAHoB;;;;SArBH","file":"file-data-source.js","sourcesContent":["import fs from 'fs';\nimport path from 'path';\n\nimport Form from '../form';\nimport ChoiceList from '../choice-list';\nimport ClassificationSet from '../classification-set';\n\nexport default class FileDataSource {\n  constructor(root) {\n    this.root = root.toString();\n  }\n\n  json(jsonPath) {\n    return JSON.parse(fs.readFileSync(jsonPath).toString());\n  }\n\n  getChoiceList(id, callback) {\n    const jsonPath = path.join(this.root, 'choice_lists', id + '.json');\n\n    return callback(null, new ChoiceList(this.json(jsonPath).choice_list));\n  }\n\n  getClassificationSet(id, callback) {\n    const jsonPath = path.join(this.root, 'classification_sets', id + '.json');\n\n    return callback(null, new ClassificationSet(this.json(jsonPath).classification_set));\n  }\n\n  getForm(id, callback) {\n    const jsonPath = path.join(this.root, 'forms', id + '.json');\n\n    return callback(null, new Form(this.json(jsonPath).form));\n  }\n}\n"]}