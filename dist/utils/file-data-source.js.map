{"version":3,"sources":["../../src/utils/file-data-source.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IASqB;;;AACnB,WADmB,cACnB,CAAY,IAAZ,EAAkB;0BADC,gBACD;;uEADC,4BACD;;AAGhB,UAAK,IAAL,GAAY,KAAK,QAAL,EAAZ,CAHgB;;GAAlB;;eADmB;;yBAOd,UAAU;AACb,aAAO,KAAK,KAAL,CAAW,aAAG,YAAH,CAAgB,QAAhB,EAA0B,QAA1B,EAAX,CAAP,CADa;;;;oCAIC,IAAI,UAAU;AAC5B,UAAM,WAAW,eAAK,IAAL,CAAU,KAAK,IAAL,EAAW,cAArB,EAAqC,KAAK,OAAL,CAAhD,CADsB;;AAG5B,aAAO,SAAS,IAAT,EAAe,yBAAe,KAAK,IAAL,CAAU,QAAV,EAAoB,WAApB,CAA9B,CAAP,CAH4B;;;;2CAMP,IAAI,UAAU;AACnC,UAAM,WAAW,eAAK,IAAL,CAAU,KAAK,IAAL,EAAW,qBAArB,EAA4C,KAAK,OAAL,CAAvD,CAD6B;;AAGnC,aAAO,SAAS,IAAT,EAAe,gCAAsB,KAAK,IAAL,CAAU,QAAV,EAAoB,kBAApB,CAArC,CAAP,CAHmC;;;;8BAM3B,IAAI,UAAU;AACtB,UAAM,WAAW,eAAK,IAAL,CAAU,KAAK,IAAL,EAAW,OAArB,EAA8B,KAAK,OAAL,CAAzC,CADgB;;AAGtB,aAAO,SAAS,IAAT,EAAe,mBAAS,KAAK,IAAL,CAAU,QAAV,EAAoB,IAApB,CAAxB,CAAP,CAHsB;;;;SAvBL","file":"file-data-source.js","sourcesContent":["import fs from 'fs';\nimport path from 'path';\n\nimport DataSource from '../data-source';\n\nimport Form from '../form';\nimport ChoiceList from '../choice-list';\nimport ClassificationSet from '../classification-set';\n\nexport default class FileDataSource extends DataSource {\n  constructor(root) {\n    super();\n\n    this.root = root.toString();\n  }\n\n  json(jsonPath) {\n    return JSON.parse(fs.readFileSync(jsonPath).toString());\n  }\n\n  fetchChoiceList(id, callback) {\n    const jsonPath = path.join(this.root, 'choice_lists', id + '.json');\n\n    return callback(null, new ChoiceList(this.json(jsonPath).choice_list));\n  }\n\n  fetchClassificationSet(id, callback) {\n    const jsonPath = path.join(this.root, 'classification_sets', id + '.json');\n\n    return callback(null, new ClassificationSet(this.json(jsonPath).classification_set));\n  }\n\n  fetchForm(id, callback) {\n    const jsonPath = path.join(this.root, 'forms', id + '.json');\n\n    return callback(null, new Form(this.json(jsonPath).form));\n  }\n}\n"]}