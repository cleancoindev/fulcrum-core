{"version":3,"sources":["../../src/utils/file-provider.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOe,MAAM,YAAN,CAAmB;AAChC,cAAY,IAAZ,EAAkB;AAChB,SAAK,IAAL,GAAY,KAAK,QAAL,EAAZ,CADgB;AAEhB,SAAK,KAAL,GAAa,EAAb,CAFgB;GAAlB;;AAKA,OAAK,QAAL,EAAe;AACb,WAAO,KAAK,KAAL,CAAW,aAAG,YAAH,CAAgB,QAAhB,EAA0B,QAA1B,EAAX,CAAP,CADa;GAAf;;AAIA,gBAAc,EAAd,EAAkB;AAChB,QAAI,KAAK,KAAL,CAAW,EAAX,CAAJ,EAAoB;AAClB,aAAO,KAAK,KAAL,CAAW,EAAX,CAAP,CADkB;KAApB;;AAIA,UAAM,WAAW,eAAK,IAAL,CAAU,KAAK,IAAL,EAAW,cAArB,EAAqC,KAAK,OAAL,CAAhD,CALU;;AAOhB,SAAK,KAAL,CAAW,EAAX,IAAiB,yBAAe,KAAK,IAAL,CAAU,QAAV,EAAoB,WAApB,CAAhC,CAPgB;;AAShB,WAAO,KAAK,KAAL,CAAW,EAAX,CAAP,CATgB;GAAlB;;AAYA,uBAAqB,EAArB,EAAyB;AACvB,QAAI,KAAK,KAAL,CAAW,EAAX,CAAJ,EAAoB;AAClB,aAAO,KAAK,KAAL,CAAW,EAAX,CAAP,CADkB;KAApB;;AAIA,UAAM,WAAW,eAAK,IAAL,CAAU,KAAK,IAAL,EAAW,qBAArB,EAA4C,KAAK,OAAL,CAAvD,CALiB;;AAOvB,SAAK,KAAL,CAAW,EAAX,IAAiB,gCAAsB,KAAK,IAAL,CAAU,QAAV,EAAoB,kBAApB,CAAvC,CAPuB;;AASvB,WAAO,KAAK,KAAL,CAAW,EAAX,CAAP,CATuB;GAAzB;;AAYA,UAAQ,EAAR,EAAY;AACV,QAAI,KAAK,KAAL,CAAW,EAAX,CAAJ,EAAoB;AAClB,aAAO,KAAK,KAAL,CAAW,EAAX,CAAP,CADkB;KAApB;;AAIA,UAAM,WAAW,eAAK,IAAL,CAAU,KAAK,IAAL,EAAW,OAArB,EAA8B,KAAK,OAAL,CAAzC,CALI;;AAOV,SAAK,KAAL,CAAW,EAAX,IAAiB,mBAAS,KAAK,IAAL,CAAU,QAAV,EAAoB,IAApB,CAA1B,CAPU;;AASV,WAAO,KAAK,KAAL,CAAW,EAAX,CAAP,CATU;GAAZ;CAlCa;kBAAM","file":"file-provider.js","sourcesContent":["import fs from 'fs';\nimport path from 'path';\n\nimport Form from '../form';\nimport ChoiceList from '../choice-list';\nimport ClassificationSet from '../classification-set';\n\nexport default class FileProvider {\n  constructor(root) {\n    this.root = root.toString();\n    this.cache = {};\n  }\n\n  json(jsonPath) {\n    return JSON.parse(fs.readFileSync(jsonPath).toString());\n  }\n\n  getChoiceList(id) {\n    if (this.cache[id]) {\n      return this.cache[id];\n    }\n\n    const jsonPath = path.join(this.root, 'choice_lists', id + '.json');\n\n    this.cache[id] = new ChoiceList(this.json(jsonPath).choice_list);\n\n    return this.cache[id];\n  }\n\n  getClassificationSet(id) {\n    if (this.cache[id]) {\n      return this.cache[id];\n    }\n\n    const jsonPath = path.join(this.root, 'classification_sets', id + '.json');\n\n    this.cache[id] = new ClassificationSet(this.json(jsonPath).classification_set);\n\n    return this.cache[id];\n  }\n\n  getForm(id) {\n    if (this.cache[id]) {\n      return this.cache[id];\n    }\n\n    const jsonPath = path.join(this.root, 'forms', id + '.json');\n\n    this.cache[id] = new Form(this.json(jsonPath).form);\n\n    return this.cache[id];\n  }\n}\n"]}