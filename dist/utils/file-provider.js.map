{"version":3,"sources":["../../src/utils/file-provider.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOe,MAAM,YAAY,CAAC;AAChC,aAAW,CAAC,IAAI,EAAE;AAChB,QAAI,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;AAC5B,QAAI,CAAC,KAAK,GAAG,EAAE,CAAC;GACjB;;AAED,MAAI,CAAC,QAAQ,EAAE;AACb,WAAO,IAAI,CAAC,KAAK,CAAC,aAAG,YAAY,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;GACzD;;AAED,eAAa,CAAC,EAAE,EAAE;AAChB,QAAI,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE;AAClB,aAAO,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;KACvB;;AAED,UAAM,QAAQ,GAAG,eAAK,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,cAAc,EAAE,EAAE,GAAG,OAAO,CAAC,CAAC;;AAEpE,QAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,yBAAe,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;;AAEjE,WAAO,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;GACvB;;AAED,sBAAoB,CAAC,EAAE,EAAE;AACvB,QAAI,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE;AAClB,aAAO,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;KACvB;;AAED,UAAM,QAAQ,GAAG,eAAK,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,qBAAqB,EAAE,EAAE,GAAG,OAAO,CAAC,CAAC;;AAE3E,QAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,gCAAsB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC;;AAE/E,WAAO,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;GACvB;;AAED,SAAO,CAAC,EAAE,EAAE;AACV,QAAI,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE;AAClB,aAAO,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;KACvB;;AAED,UAAM,QAAQ,GAAG,eAAK,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,EAAE,GAAG,OAAO,CAAC,CAAC;;AAE7D,QAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,mBAAS,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC;;AAEpD,WAAO,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;GACvB;CACF;kBA7CoB,YAAY","file":"file-provider.js","sourcesContent":["import fs from 'fs';\nimport path from 'path';\n\nimport Form from '../form';\nimport ChoiceList from '../choice-list';\nimport ClassificationSet from '../classification-set';\n\nexport default class FileProvider {\n  constructor(root) {\n    this.root = root.toString();\n    this.cache = {};\n  }\n\n  json(jsonPath) {\n    return JSON.parse(fs.readFileSync(jsonPath).toString());\n  }\n\n  getChoiceList(id) {\n    if (this.cache[id]) {\n      return this.cache[id];\n    }\n\n    const jsonPath = path.join(this.root, 'choice_lists', id + '.json');\n\n    this.cache[id] = new ChoiceList(this.json(jsonPath).choice_list);\n\n    return this.cache[id];\n  }\n\n  getClassificationSet(id) {\n    if (this.cache[id]) {\n      return this.cache[id];\n    }\n\n    const jsonPath = path.join(this.root, 'classification_sets', id + '.json');\n\n    this.cache[id] = new ClassificationSet(this.json(jsonPath).classification_set);\n\n    return this.cache[id];\n  }\n\n  getForm(id) {\n    if (this.cache[id]) {\n      return this.cache[id];\n    }\n\n    const jsonPath = path.join(this.root, 'forms', id + '.json');\n\n    this.cache[id] = new Form(this.json(jsonPath).form);\n\n    return this.cache[id];\n  }\n}\n"]}