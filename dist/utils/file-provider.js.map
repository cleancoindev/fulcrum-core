{"version":3,"sources":["../../src/utils/file-provider.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAOqB,YAAY;AAC/B,WADmB,YAAY,CACnB,IAAI,EAAE;0BADC,YAAY;;AAE7B,QAAI,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;AAC5B,QAAI,CAAC,KAAK,GAAG,EAAE,CAAC;GACjB;;eAJkB,YAAY;;yBAM1B,QAAQ,EAAE;AACb,aAAO,IAAI,CAAC,KAAK,CAAC,aAAG,YAAY,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;KACzD;;;kCAEa,EAAE,EAAE;AAChB,UAAI,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE;AAClB,eAAO,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;OACvB;;AAED,UAAM,QAAQ,GAAG,eAAK,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,cAAc,EAAE,EAAE,GAAG,OAAO,CAAC,CAAC;;AAEpE,UAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,yBAAe,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;;AAEjE,aAAO,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;KACvB;;;yCAEoB,EAAE,EAAE;AACvB,UAAI,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE;AAClB,eAAO,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;OACvB;;AAED,UAAM,QAAQ,GAAG,eAAK,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,qBAAqB,EAAE,EAAE,GAAG,OAAO,CAAC,CAAC;;AAE3E,UAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,gCAAsB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC;;AAE/E,aAAO,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;KACvB;;;4BAEO,EAAE,EAAE;AACV,UAAI,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE;AAClB,eAAO,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;OACvB;;AAED,UAAM,QAAQ,GAAG,eAAK,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,EAAE,GAAG,OAAO,CAAC,CAAC;;AAE7D,UAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,mBAAS,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC;;AAEpD,aAAO,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;KACvB;;;SA5CkB,YAAY;;;kBAAZ,YAAY","file":"file-provider.js","sourcesContent":["import fs from 'fs';\nimport path from 'path';\n\nimport Form from '../form';\nimport ChoiceList from '../choice-list';\nimport ClassificationSet from '../classification-set';\n\nexport default class FileProvider {\n  constructor(root) {\n    this.root = root.toString();\n    this.cache = {};\n  }\n\n  json(jsonPath) {\n    return JSON.parse(fs.readFileSync(jsonPath).toString());\n  }\n\n  getChoiceList(id) {\n    if (this.cache[id]) {\n      return this.cache[id];\n    }\n\n    const jsonPath = path.join(this.root, 'choice_lists', id + '.json');\n\n    this.cache[id] = new ChoiceList(this.json(jsonPath).choice_list);\n\n    return this.cache[id];\n  }\n\n  getClassificationSet(id) {\n    if (this.cache[id]) {\n      return this.cache[id];\n    }\n\n    const jsonPath = path.join(this.root, 'classification_sets', id + '.json');\n\n    this.cache[id] = new ClassificationSet(this.json(jsonPath).classification_set);\n\n    return this.cache[id];\n  }\n\n  getForm(id) {\n    if (this.cache[id]) {\n      return this.cache[id];\n    }\n\n    const jsonPath = path.join(this.root, 'forms', id + '.json');\n\n    this.cache[id] = new Form(this.json(jsonPath).form);\n\n    return this.cache[id];\n  }\n}\n"]}