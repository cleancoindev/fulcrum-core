{"version":3,"sources":["../../src/utils/number-utils.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAEA,IAAM,0BAA0B;AAC9B,SAAO,SAAP;AACA,eAAa,KAAb;AACA,yBAAuB,CAAvB;AACA,yBAAuB,EAAvB;CAJI;;AAON,IAAI,OAAO,IAAP;;AAEJ,IAAI,OAAO,IAAP,KAAgB,WAAhB,EAA6B;AAC/B,SAAO,OAAO,IAAP,CADwB;CAAjC;;IAIqB;;;;;;;gCACA,OAAO;AACxB,aAAO,CAAC,KAAD,CADiB;;;;qDAIc,eAAe,eAAe;AACpE,aAAO,aAAP,CADoE;;;;kCAIjD,QAAQ;AAC3B,UAAI,IAAJ,EAAU;AACR,YAAI,YAAY,gBAAZ,IAAgC,IAAhC,EAAsC;AACxC,sBAAY,gBAAZ,GAA+B,IAAI,KAAK,YAAL,CAAkB,CAAC,OAAD,CAAtB,EAAiC,uBAAjC,CAA/B,CADwC;SAA1C;OADF;;AAMA,aAAO,YAAY,mBAAZ,CAAgC,YAAY,gBAAZ,EAA8B,MAA9D,CAAP,CAP2B;;;;mCAUP,QAAQ,UAAU;AACtC,UAAI,UAAU,IAAV,EAAgB;AAClB,eAAO,IAAP,CADkB;OAApB;;AAIA,aAAO,YAAY,gBAAZ,CAA6B,MAA7B,EAAqC,QAArC,CAAP,CALsC;;;;qCAQhB,QAAQ,UAAU;AACxC,UAAI,CAAC,iBAAO,eAAP,EAAD,EAA2B;AAC7B,eAAO,MAAP,CAD6B;OAA/B;;AAIA,UAAM,UAAU;AACd,eAAO,UAAP;AACA,kBAAU,QAAV;AACA,yBAAiB,QAAjB;AACA,+BAAuB,CAAvB;AACA,+BAAuB,CAAvB;OALI,CALkC;;AAaxC,UAAM,YAAY,IAAI,OAAO,IAAP,CAAY,YAAZ,CAAyB,iBAAO,aAAP,EAA7B,EAAqD,OAArD,CAAZ,CAbkC;;AAexC,aAAO,UAAU,MAAV,CAAiB,MAAjB,CAAP,CAfwC;;;;wCAkBf,WAAW,QAAQ;AAC5C,UAAI,aAAa,IAAb,EAAmB;AACrB,YAAI,SAAS,UAAU,MAAV,CAAiB,MAAjB,CAAT,CADiB;;AAGrB,YAAI,WAAW,KAAX,EAAkB;AACpB,iBAAO,MAAP,CADoB;SAAtB,MAEO;AACL,iBAAO,MAAP,CADK;SAFP;OAHF,MAQO;AACL,eAAO,OAAO,QAAP,EAAP,CADK;OARP;;;;SA9CiB","file":"number-utils.js","sourcesContent":["import Locale from './locale';\n\nconst MachineFormatterOptions = {\n  style: 'decimal',\n  useGrouping: false,\n  minimumFractionDigits: 0,\n  maximumFractionDigits: 20\n};\n\nlet intl = null;\n\nif (typeof Intl !== 'undefined') {\n  intl = global.Intl;\n}\n\nexport default class NumberUtils {\n  static parseDouble(input) {\n    return +input;\n  }\n\n  static localizedStringFromMachineString(machineString, allowDecimals) {\n    return machineString;\n  }\n\n  static formatMachine(number) {\n    if (intl) {\n      if (NumberUtils.machineFormatter == null) {\n        NumberUtils.machineFormatter = new intl.NumberFormat(['en-US'], MachineFormatterOptions);\n      }\n    }\n\n    return NumberUtils.formatWithFormatter(NumberUtils.machineFormatter, number);\n  }\n\n  static formatCurrency(number, currency) {\n    if (number == null) {\n      return null;\n    }\n\n    return NumberUtils.__formatCurrency(number, currency);\n  }\n\n  static __formatCurrency(number, currency) {\n    if (!Locale.supportsECMA402()) {\n      return number;\n    }\n\n    const options = {\n      style: 'currency',\n      currency: currency,\n      currencyDisplay: 'symbol',\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    };\n\n    const formatter = new global.Intl.NumberFormat(Locale.currentLocale(), options);\n\n    return formatter.format(number);\n  }\n\n  static formatWithFormatter(formatter, number) {\n    if (formatter != null) {\n      let string = formatter.format(number);\n\n      if (string === 'NaN') {\n        return number;\n      } else {\n        return string;\n      }\n    } else {\n      return number.toString();\n    }\n  }\n}\n"]}