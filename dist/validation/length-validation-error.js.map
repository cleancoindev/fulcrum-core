{"version":3,"sources":["../../src/validation/length-validation-error.js"],"names":[],"mappings":"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","file":"length-validation-error.js","sourcesContent":["import ElementValidationError from './element-validation-error';\nimport {format} from 'util';\n\nconst AT_LEAST = 'at-least';\nconst AT_MOST = 'at-most';\nconst BETWEEN = 'between';\nconst EXACTLY = 'exactly';\n\nexport default class LengthValidationError extends ElementValidationError {\n  constructor(element) {\n    super(element);\n\n    if (element.hasMinLength && element.hasMaxLength && element.minLength === element.maxLength) {\n      this.type = EXACTLY;\n    } else if (element.hasMinLength && element.hasMaxLength) {\n      this.type = BETWEEN;\n    } else if (element.hasMinLength) {\n      this.type = AT_LEAST;\n    } else if (element.hasMaxLength) {\n      this.type = AT_MOST;\n    }\n  }\n\n  get message() {\n    if (this.element.isTextElement) {\n      return this.textElementMessage;\n    } else if (this.element.isChoiceElement) {\n      return this.choiceElementMessage;\n    } else if (this.element.isPhotoElement) {\n      return this.photoElementMessage;\n    } else if (this.element.isVideoElement) {\n      return this.videoElementMessage;\n    } else if (this.element.isAudioElement) {\n      return this.audioElementMessage;\n    } else if (this.element.isRepeatableElement) {\n      return this.repeatableElementMessage;\n    }\n\n    return '';\n  }\n\n  get isAtLeastError() {\n    return this.type === AT_LEAST;\n  }\n\n  get isAtMostError() {\n    return this.type === AT_MOST;\n  }\n\n  get isBetweenError() {\n    return this.type === BETWEEN;\n  }\n\n  get isExactlyError() {\n    return this.type === EXACTLY;\n  }\n\n  get textElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 character.\",\n                                     \"The field '%s' must have at least %s characters.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 character.\",\n                                     \"The field '%s' cannot have more than %s characters.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s characters.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 character.\",\n                                     \"The field '%s' must have exactly %s characters.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get photoElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 photo.\",\n                                     \"The field '%s' must have at least %s photos.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 photo.\",\n                                     \"The field '%s' cannot have more than %s photos.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s photos.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 photo.\",\n                                     \"The field '%s' must have exactly %s photos.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get videoElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 video.\",\n                                     \"The field '%s' must have at least %s videos.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 video.\",\n                                     \"The field '%s' cannot have more than %s videos.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s videos.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 video.\",\n                                     \"The field '%s' must have exactly %s videos.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get audioElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 audio file.\",\n                                     \"The field '%s' must have at least %s audio files.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 audio file.\",\n                                     \"The field '%s' cannot have more than %s audio files.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s audio files.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 audio file.\",\n                                     \"The field '%s' must have exactly %s audio files.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get choiceElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 choice.\",\n                                     \"The field '%s' must have at least %s choices.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 choice.\",\n                                     \"The field '%s' cannot have more than %s choices.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s choices.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 choice.\",\n                                     \"The field '%s' must have exactly %s choices.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  get repeatableElementMessage() {\n    if (this.isAtLeastError) {\n      return this.messageWithFormats(\"The field '%s' must have at least 1 item.\",\n                                     \"The field '%s' must have at least %s items.\",\n                                     this.element.minLength);\n    } else if (this.isAtMostError) {\n      return this.messageWithFormats(\"The field '%s' cannot have more than 1 item.\",\n                                     \"The field '%s' cannot have more than %s items.\",\n                                     this.element.maxLength);\n    } else if (this.isBetweenError) {\n      return format(\"The field '%s' must have between %s and %s items.\",\n                    this.label,\n                    this.element.minLength,\n                    this.element.maxLength);\n    } else if (this.isExactlyError) {\n      return this.messageWithFormats(\"The field '%s' must have exactly 1 item.\",\n                                     \"The field '%s' must have exactly %s items.\",\n                                     this.element.minLength);\n    }\n\n    return '';\n  }\n\n  messageWithFormats(singularFormat, pluralFormat, length) {\n    if (length === 1) {\n      return format(singularFormat, this.label, length);\n    } else {\n      return format(pluralFormat, this.label, length);\n    }\n  }\n}\n"]}