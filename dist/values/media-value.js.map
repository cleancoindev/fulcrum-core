{"version":3,"sources":["../../src/values/media-value.js"],"names":[],"mappings":"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","file":"media-value.js","sourcesContent":["import FormValue from './form-value';\nimport MultipleValueItem from './multiple-value-item';\nimport TextUtils from '../utils/text-utils';\nimport NumberUtils from '../utils/number-utils';\n\nexport default class MediaValue extends FormValue {\n  constructor(element, items) {\n    super(element, items);\n\n    this._items = [];\n\n    if (items != null) {\n      for (let item of items) {\n        this._items.push(new this.ItemClass(item));\n      }\n    }\n  }\n\n  get isEmpty() {\n    return this._items.length === 0;\n  }\n\n  get searchableValue() {\n    if (this.isEmpty) {\n      return null;\n    }\n\n    const ids = [];\n\n    for (const item of this._items) {\n      if (TextUtils.isPresent(item.caption)) {\n        ids.push(item.caption);\n      }\n    }\n\n    return ids.join(' ');\n  }\n\n  get length() {\n    return this._items.length;\n  }\n\n  columnValue() {\n    const ids = [];\n\n    for (let item of this._items) {\n      ids.push(item.mediaID);\n    }\n\n    return ids.join(',');\n  }\n\n  get multipleValues() {\n    const items = [];\n\n    for (let item of this._items) {\n      items.push(new MultipleValueItem(this.element, item.mediaID));\n    }\n\n    return items;\n  }\n\n  toJSON() {\n    const items = [];\n\n    for (let item of this._items) {\n      items.push(item.toJSON());\n    }\n\n    return items;\n  }\n\n  isEqual(value) {\n    return false;\n  }\n\n  contains(value) {\n    return false;\n  }\n\n  startsWith(value) {\n    return false;\n  }\n\n  isLessThan(value) {\n    return this.length < NumberUtils.parseDouble(value);\n  }\n\n  isGreaterThan(value) {\n    return this.length > NumberUtils.parseDouble(value);\n  }\n\n  mapItems(callback) {\n    return this._items.slice().map(callback);\n  }\n\n  addItem(id, caption) {\n    const item = new this.ItemClass({ caption: caption });\n\n    item.mediaID = id;\n\n    this._items.push(item);\n\n    return item;\n  }\n}\n"]}