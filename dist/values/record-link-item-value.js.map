{"version":3,"sources":["../../src/values/record-link-item-value.js"],"names":["RecordLinkItemValue","parent","attributes","_parent","_recordID","record_id","toJSON","load","dataSource","callback","element","form","getRecord","err","record","_record","displayValue"],"mappings":";;;;;;AAAA;;;;;;;;IAEqBA,mB;AACnB,+BAAYC,MAAZ,EAAoBC,UAApB,EAAgC;AAAA;;AAC9B,SAAKC,OAAL,GAAeF,MAAf;AACA,SAAKG,SAAL,GAAiBF,WAAWG,SAA5B;AACD;;gCAUDC,M,qBAAS;AACP,WAAO;AACLD,iBAAW,KAAKD;AADX,KAAP;AAGD,G;;gCAmBDG,I,iBAAKC,U,EAAYC,Q,EAAU;AAAA;;AACzB,0BAAO,KAAKR,MAAL,CAAYS,OAAZ,CAAoBC,IAA3B,EAAiC,gDAAjC;;AAEAH,eAAWI,SAAX,CAAqB,KAAKR,SAA1B,EAAqC,KAAKH,MAAL,CAAYS,OAAZ,CAAoBC,IAAzD,EAA+D,UAACE,GAAD,EAAMC,MAAN,EAAiB;AAC9E,UAAID,GAAJ,EAAS;AACP,eAAOJ,SAASI,GAAT,CAAP;AACD;;AAED,YAAKE,OAAL,GAAeD,MAAf;;AAEA,aAAOL,UAAP;AACD,KARD;AASD,G;;;;wBA3CY;AACX,aAAO,KAAKN,OAAZ;AACD;;;wBAEQ;AACP,aAAO,KAAKC,SAAZ;AACD;;;wBAQkB;AACjB,UAAI,KAAKW,OAAT,EAAkB;AAChB,eAAO,KAAKA,OAAL,CAAaC,YAApB;AACD;;AAED,aAAO,IAAP;AACD;;;wBAEY;AACX,aAAO,KAAKD,OAAZ;AACD,K;sBAEUD,M,EAAQ;AACjB,WAAKV,SAAL,GAAiBU,MAAjB;AACA,WAAKC,OAAL,GAAeD,MAAf;AACD;;;;;;kBAnCkBd,mB","file":"record-link-item-value.js","sourcesContent":["import assert from 'assert';\n\nexport default class RecordLinkItemValue {\n  constructor(parent, attributes) {\n    this._parent = parent;\n    this._recordID = attributes.record_id;\n  }\n\n  get parent() {\n    return this._parent;\n  }\n\n  get id() {\n    return this._recordID;\n  }\n\n  toJSON() {\n    return {\n      record_id: this._recordID\n    };\n  }\n\n  get displayValue() {\n    if (this._record) {\n      return this._record.displayValue;\n    }\n\n    return null;\n  }\n\n  get record() {\n    return this._record;\n  }\n\n  set record(record) {\n    this._recordID = record;\n    this._record = record;\n  }\n\n  load(dataSource, callback) {\n    assert(this.parent.element.form, 'form must be present before loading the record');\n\n    dataSource.getRecord(this._recordID, this.parent.element.form, (err, record) => {\n      if (err) {\n        return callback(err);\n      }\n\n      this._record = record;\n\n      return callback();\n    });\n  }\n}\n"]}