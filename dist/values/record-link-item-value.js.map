{"version":3,"sources":["../../src/values/record-link-item-value.js"],"names":[],"mappings":";;;;;;;;;;;;;;IAEqB;AACnB,WADmB,mBACnB,CAAY,MAAZ,EAAoB,UAApB,EAAgC;0BADb,qBACa;;AAC9B,SAAK,OAAL,GAAe,MAAf,CAD8B;AAE9B,SAAK,SAAL,GAAiB,WAAW,SAAX,CAFa;GAAhC;;AADmB,gCAcnB,2BAAS;AACP,WAAO;AACL,iBAAW,KAAK,SAAL;KADb,CADO;;;AAdU,gCAqCnB,qBAAK,YAAY,UAAU;;;AACzB,0BAAO,KAAK,MAAL,CAAY,OAAZ,CAAoB,IAApB,EAA0B,gDAAjC,EADyB;;AAGzB,eAAW,SAAX,CAAqB,KAAK,SAAL,EAAgB,KAAK,MAAL,CAAY,OAAZ,CAAoB,IAApB,EAA0B,UAAC,GAAD,EAAM,MAAN,EAAiB;AAC9E,UAAI,GAAJ,EAAS;AACP,eAAO,SAAS,GAAT,CAAP,CADO;OAAT;;AAIA,YAAK,OAAL,GAAe,MAAf,CAL8E;;AAO9E,aAAO,UAAP,CAP8E;KAAjB,CAA/D,CAHyB;;;eArCR;;wBAMN;AACX,aAAO,KAAK,OAAL,CADI;;;;wBAIJ;AACP,aAAO,KAAK,SAAL,CADA;;;;wBAUU;AACjB,UAAI,KAAK,OAAL,EAAc;AAChB,eAAO,KAAK,OAAL,CAAa,YAAb,CADS;OAAlB;;AAIA,aAAO,IAAP,CALiB;;;;wBAQN;AACX,aAAO,KAAK,OAAL,CADI;;sBAIF,QAAQ;AACjB,WAAK,SAAL,GAAiB,MAAjB,CADiB;AAEjB,WAAK,OAAL,GAAe,MAAf,CAFiB;;;;SAhCA","file":"record-link-item-value.js","sourcesContent":["import assert from 'assert';\n\nexport default class RecordLinkItemValue {\n  constructor(parent, attributes) {\n    this._parent = parent;\n    this._recordID = attributes.record_id;\n  }\n\n  get parent() {\n    return this._parent;\n  }\n\n  get id() {\n    return this._recordID;\n  }\n\n  toJSON() {\n    return {\n      record_id: this._recordID\n    };\n  }\n\n  get displayValue() {\n    if (this._record) {\n      return this._record.displayValue;\n    }\n\n    return null;\n  }\n\n  get record() {\n    return this._record;\n  }\n\n  set record(record) {\n    this._recordID = record;\n    this._record = record;\n  }\n\n  load(dataSource, callback) {\n    assert(this.parent.element.form, 'form must be present before loading the record');\n\n    dataSource.getRecord(this._recordID, this.parent.element.form, (err, record) => {\n      if (err) {\n        return callback(err);\n      }\n\n      this._record = record;\n\n      return callback();\n    });\n  }\n}\n"]}