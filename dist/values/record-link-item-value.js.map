{"version":3,"sources":["../../src/values/record-link-item-value.js"],"names":[],"mappings":";;;;;;AAAA;;;;;;;;IAEqB,mB;AACnB,+BAAY,MAAZ,EAAoB,UAApB,EAAgC;AAAA;;AAC9B,SAAK,OAAL,GAAe,MAAf;AACA,SAAK,SAAL,GAAiB,WAAW,SAA5B;AACD;;gCAUD,M,qBAAS;AACP,WAAO;AACL,iBAAW,KAAK;AADX,KAAP;AAGD,G;;gCAmBD,I,iBAAK,U,EAAY,Q,EAAU;AAAA;;AACzB,0BAAO,KAAK,MAAL,CAAY,OAAZ,CAAoB,IAA3B,EAAiC,gDAAjC;;AAEA,eAAW,SAAX,CAAqB,KAAK,SAA1B,EAAqC,KAAK,MAAL,CAAY,OAAZ,CAAoB,IAAzD,EAA+D,UAAC,GAAD,EAAM,MAAN,EAAiB;AAC9E,UAAI,GAAJ,EAAS;AACP,eAAO,SAAS,GAAT,CAAP;AACD;;AAED,YAAK,OAAL,GAAe,MAAf;;AAEA,aAAO,UAAP;AACD,KARD;AASD,G;;;;wBA3CY;AACX,aAAO,KAAK,OAAZ;AACD;;;wBAEQ;AACP,aAAO,KAAK,SAAZ;AACD;;;wBAQkB;AACjB,UAAI,KAAK,OAAT,EAAkB;AAChB,eAAO,KAAK,OAAL,CAAa,YAApB;AACD;;AAED,aAAO,IAAP;AACD;;;wBAEY;AACX,aAAO,KAAK,OAAZ;AACD,K;sBAEU,M,EAAQ;AACjB,WAAK,SAAL,GAAiB,MAAjB;AACA,WAAK,OAAL,GAAe,MAAf;AACD;;;;;;kBAnCkB,mB","file":"record-link-item-value.js","sourcesContent":["import assert from 'assert';\n\nexport default class RecordLinkItemValue {\n  constructor(parent, attributes) {\n    this._parent = parent;\n    this._recordID = attributes.record_id;\n  }\n\n  get parent() {\n    return this._parent;\n  }\n\n  get id() {\n    return this._recordID;\n  }\n\n  toJSON() {\n    return {\n      record_id: this._recordID\n    };\n  }\n\n  get displayValue() {\n    if (this._record) {\n      return this._record.displayValue;\n    }\n\n    return null;\n  }\n\n  get record() {\n    return this._record;\n  }\n\n  set record(record) {\n    this._recordID = record;\n    this._record = record;\n  }\n\n  load(dataSource, callback) {\n    assert(this.parent.element.form, 'form must be present before loading the record');\n\n    dataSource.getRecord(this._recordID, this.parent.element.form, (err, record) => {\n      if (err) {\n        return callback(err);\n      }\n\n      this._record = record;\n\n      return callback();\n    });\n  }\n}\n"]}