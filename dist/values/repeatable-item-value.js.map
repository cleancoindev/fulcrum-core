{"version":3,"sources":["../../src/values/repeatable-item-value.js"],"names":["RepeatableItemValue","element","attrs","index","_index","_element","updateFromAPIAttributes","_id","id","_createdAt","parseEpochTimestamp","created_at","_updatedAt","updated_at","_formValuesJSON","form_values","_version","version","_changesetID","changeset_id","_recordID","record_id","_parentID","parent_id","_recordProjectID","record_project_id","_recordProjectName","record_project","_recordAssignedToID","record_assigned_to_id","_recordAssignedToName","record_assigned_to","_recordStatus","record_status","_createdByID","created_by_id","_createdByName","created_by","_updatedByID","updated_by_id","_updatedByName","updated_by","geometry","type","coordinates","length","_latitude","_longitude","_createdDuration","created_duration","_updatedDuration","updated_duration","_editedDuration","edited_duration","createdLocation","created_location","_createdLatitude","_createdLongitude","_createdAltitude","_createdAccuracy","latitude","longitude","altitude","horizontal_accuracy","updatedLocation","updated_location","_updatedLatitude","_updatedLongitude","_updatedAltitude","_updatedAccuracy","toJSON","simple","json","formatEpochTimestamp","createdAt","updatedAt","formValues","toSimpleJSON","geometryAsGeoJSON","updateTimestamps","now","Date","loadChangeset","dataSource","callback","loadCreatedBy","loadUpdatedBy","TypeError","_formValues","isGeometryEnabled","titleFieldKeys","titles","fieldKey","formValue","get","displayValue","isPresent","push","join","searchableValue","hasCoordinate","_changeset","_updatedBy","_createdBy","value","createdLatitude","createdLongitude","updatedLatitude","updatedLongitude","hasCreatedCoordinate","createdAltitude","createdAccuracy","hasUpdatedCoordinate","updatedAltitude","updatedAccuracy","name"],"mappings":"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","file":"repeatable-item-value.js","sourcesContent":["import Feature from '../feature';\nimport FormValues from './form-values';\nimport DateUtils from '../utils/date-utils';\nimport TextUtils from '../utils/text-utils';\nimport loadObject from '../load-object';\n\nexport default class RepeatableItemValue extends Feature {\n  constructor(element, attrs, index) {\n    super();\n\n    this._index = index;\n    this._element = element;\n\n    this.updateFromAPIAttributes(attrs);\n  }\n\n  get isRecord() {\n    return false;\n  }\n\n  get isRepeatable() {\n    return true;\n  }\n\n  get element() {\n    return this._element;\n  }\n\n  get id() {\n    return this._id;\n  }\n\n  get index() {\n    return this._index;\n  }\n\n  get createdAt() {\n    return this._createdAt;\n  }\n\n  get version() {\n    return this._version;\n  }\n\n  set createdAt(createdAt) {\n    if (createdAt != null && !(createdAt instanceof Date)) {\n      throw new TypeError('createdAt must be a Date');\n    }\n\n    this._createdAt = createdAt;\n  }\n\n  get updatedAt() {\n    return this._updatedAt;\n  }\n\n  set updatedAt(updatedAt) {\n    if (updatedAt != null && !(updatedAt instanceof Date)) {\n      throw new TypeError('updatedAt must be a Date');\n    }\n\n    this._updatedAt = updatedAt;\n  }\n\n  get formValues() {\n    if (!this._formValues) {\n      this._formValues = new FormValues(this._element, this._formValuesJSON);\n    }\n\n    return this._formValues;\n  }\n\n  get hasCoordinate() {\n    return this._latitude != null && this._longitude != null;\n  }\n\n  updateFromAPIAttributes(attrs) {\n    this._id = attrs.id;\n    this._createdAt = DateUtils.parseEpochTimestamp(attrs.created_at);\n    this._updatedAt = DateUtils.parseEpochTimestamp(attrs.updated_at);\n    this._formValuesJSON = attrs.form_values;\n    this._version = attrs.version != null ? attrs.version : 1;\n    this._changesetID = attrs.changeset_id;\n\n    this._recordID = attrs.record_id || null;\n    this._parentID = attrs.parent_id || null;\n\n    this._recordProjectID = attrs.record_project_id || null;\n    this._recordProjectName = attrs.record_project || null;\n    this._recordAssignedToID = attrs.record_assigned_to_id || null;\n    this._recordAssignedToName = attrs.record_assigned_to || null;\n    this._recordStatus = attrs.record_status || null;\n\n    this._createdByID = attrs.created_by_id || null;\n    this._createdByName = attrs.created_by || null;\n    this._updatedByID = attrs.updated_by_id || null;\n    this._updatedByName = attrs.updated_by || null;\n\n    const geometry = attrs.geometry;\n\n    if (geometry != null &&\n        geometry.type === 'Point' &&\n        geometry.coordinates &&\n        geometry.coordinates.length > 1) {\n      this._latitude = geometry.coordinates[1];\n      this._longitude = geometry.coordinates[0];\n    }\n\n    this._createdDuration = attrs.created_duration != null ? attrs.created_duration : null;\n    this._updatedDuration = attrs.updated_duration != null ? attrs.updated_duration : null;\n    this._editedDuration = attrs.edited_duration != null ? attrs.edited_duration : null;\n\n    const createdLocation = attrs.created_location;\n\n    this._createdLatitude = null;\n    this._createdLongitude = null;\n    this._createdAltitude = null;\n    this._createdAccuracy = null;\n\n    if (createdLocation) {\n      this._createdLatitude = createdLocation.latitude;\n      this._createdLongitude = createdLocation.longitude;\n      this._createdAltitude = createdLocation.altitude;\n      this._createdAccuracy = createdLocation.horizontal_accuracy;\n    }\n\n    const updatedLocation = attrs.updated_location;\n\n    this._updatedLatitude = null;\n    this._updatedLongitude = null;\n    this._updatedAltitude = null;\n    this._updatedAccuracy = null;\n\n    if (updatedLocation) {\n      this._updatedLatitude = updatedLocation.latitude;\n      this._updatedLongitude = updatedLocation.longitude;\n      this._updatedAltitude = updatedLocation.altitude;\n      this._updatedAccuracy = updatedLocation.horizontal_accuracy;\n    }\n  }\n\n  toJSON({simple} = {}) {\n    const json = {};\n\n    json.id = this.id;\n    json.created_at = DateUtils.formatEpochTimestamp(this.createdAt);\n    json.updated_at = DateUtils.formatEpochTimestamp(this.updatedAt);\n    json.form_values = simple ? this.formValues.toSimpleJSON() : this.formValues.toJSON();\n    json.geometry = this.geometryAsGeoJSON;\n    json.created_location = this.createdLocation;\n    json.updated_location = this.updatedLocation;\n    json.created_duration = this._createdDuration != null ? this._createdDuration : null;\n    json.updated_duration = this._updatedDuration != null ? this._updatedDuration : null;\n    json.edited_duration = this._editedDuration != null ? this._editedDuration : null;\n    json.created_by_id = this._createdByID != null ? this._createdByID : null;\n    json.updated_by_id = this._updatedByID != null ? this._updatedByID : null;\n    json.version = this._version != null ? this._version : null;\n    json.changeset_id = this._changesetID != null ? this._changesetID : null;\n\n    return json;\n  }\n\n  updateTimestamps() {\n    const now = new Date();\n\n    if (!this._createdAt) {\n      this._createdAt = now;\n    }\n\n    this._updatedAt = now;\n  }\n\n  get isGeometryEnabled() {\n    return this._element.isGeometryEnabled;\n  }\n\n  get displayValue() {\n    const titleFieldKeys = this._element.titleFieldKeys;\n    const titles = [];\n\n    for (const fieldKey of titleFieldKeys) {\n      const formValue = this.formValues.get(fieldKey);\n\n      if (formValue) {\n        const displayValue = formValue.displayValue;\n\n        if (TextUtils.isPresent(displayValue)) {\n          titles.push(displayValue);\n        }\n      }\n    }\n\n    return titles.join(', ');\n  }\n\n  get searchableValue() {\n    return this.formValues.searchableValue;\n  }\n\n  get geometryAsGeoJSON() {\n    if (!this.hasCoordinate) {\n      return null;\n    }\n\n    return {\n      type: 'Point',\n      coordinates: [ this._longitude, this._latitude ]\n    };\n  }\n\n  get latitude() {\n    return this._latitude;\n  }\n\n  set latitude(latitude) {\n    this._latitude = latitude;\n  }\n\n  get longitude() {\n    return this._longitude;\n  }\n\n  set longitude(longitude) {\n    this._longitude = longitude;\n  }\n\n  get changesetID() {\n    return this._changesetID;\n  }\n\n  get createdByID() {\n    return this._createdByID;\n  }\n\n  get updatedByID() {\n    return this._updatedByID;\n  }\n\n  loadChangeset(dataSource, callback) {\n    return loadObject(this, dataSource, 'changeset', 'getChangeset', callback);\n  }\n\n  loadCreatedBy(dataSource, callback) {\n    return loadObject(this, dataSource, 'createdBy', 'getUser', callback);\n  }\n\n  loadUpdatedBy(dataSource, callback) {\n    return loadObject(this, dataSource, 'updatedBy', 'getUser', callback);\n  }\n\n  get changeset() {\n    return this._changeset;\n  }\n\n  get updatedBy() {\n    return this._updatedBy;\n  }\n\n  get createdBy() {\n    return this._createdBy;\n  }\n\n  get createdDuration() {\n    return this._createdDuration;\n  }\n\n  set createdDuration(value) {\n    this._createdDuration = (value != null ? +value : null);\n  }\n\n  get updatedDuration() {\n    return this._updatedDuration;\n  }\n\n  set updatedDuration(value) {\n    this._updatedDuration = (value != null ? +value : null);\n  }\n\n  get editedDuration() {\n    return this._editedDuration;\n  }\n\n  set editedDuration(value) {\n    this._editedDuration = (value != null ? +value : null);\n  }\n\n  get createdLatitude() {\n    return this._createdLatitude;\n  }\n\n  get createdLongitude() {\n    return this._createdLongitude;\n  }\n\n  get createdAltitude() {\n    return this._createdAltitude;\n  }\n\n  get createdAccuracy() {\n    return this._createdAccuracy;\n  }\n\n  set createdLatitude(value) {\n    this._createdLatitude = (value != null ? +value : null);\n  }\n\n  set createdLongitude(value) {\n    this._createdLongitude = (value != null ? +value : null);\n  }\n\n  set createdAltitude(value) {\n    this._createdAltitude = (value != null ? +value : null);\n  }\n\n  set createdAccuracy(value) {\n    this._createdAccuracy = (value != null ? +value : null);\n  }\n\n  get updatedLatitude() {\n    return this._updatedLatitude;\n  }\n\n  get updatedLongitude() {\n    return this._updatedLongitude;\n  }\n\n  get updatedAltitude() {\n    return this._updatedAltitude;\n  }\n\n  get updatedAccuracy() {\n    return this._updatedAccuracy;\n  }\n\n  set updatedLatitude(value) {\n    this._updatedLatitude = (value != null ? +value : null);\n  }\n\n  set updatedLongitude(value) {\n    this._updatedLongitude = (value != null ? +value : null);\n  }\n\n  set updatedAltitude(value) {\n    this._updatedAltitude = (value != null ? +value : null);\n  }\n\n  set updatedAccuracy(value) {\n    this._updatedAccuracy = (value != null ? +value : null);\n  }\n\n  get hasCreatedCoordinate() {\n    return this.createdLatitude != null && this.createdLongitude != null;\n  }\n\n  get hasUpdatedCoordinate() {\n    return this.updatedLatitude != null && this.updatedLongitude != null;\n  }\n\n  get createdLocation() {\n    if (this.hasCreatedCoordinate) {\n      return {\n        latitude: this.createdLatitude,\n        longitude: this.createdLongitude,\n        altitude: this.createdAltitude,\n        horizontal_accuracy: this.createdAccuracy\n      };\n    }\n\n    return null;\n  }\n\n  get updatedLocation() {\n    if (this.hasUpdatedCoordinate) {\n      return {\n        latitude: this.updatedLatitude,\n        longitude: this.updatedLongitude,\n        altitude: this.updatedAltitude,\n        horizontal_accuracy: this.updatedAccuracy\n      };\n    }\n\n    return null;\n  }\n\n  get recordID() {\n    return this._recordID;\n  }\n\n  get parentID() {\n    return this._parentID;\n  }\n\n  get createdByName() {\n    return this._createdByName;\n  }\n\n  set createdByName(name) {\n    this._createdByName = name;\n  }\n\n  get updatedByName() {\n    return this._updatedByName;\n  }\n\n  set updatedByName(name) {\n    this._updatedByName = name;\n  }\n\n  get recordProjectName() {\n    return this._recordProjectName;\n  }\n\n  set recordProjectName(name) {\n    this._recordProjectName = name;\n  }\n\n  get recordProjectID() {\n    return this._recordProjectID;\n  }\n\n  set recordProjectID(id) {\n    this._recordProjectID = id;\n  }\n\n  get recordAssignedToName() {\n    return this._recordAssignedToName;\n  }\n\n  set recordAssignedToName(name) {\n    this._recordAssignedToName = name;\n  }\n\n  get recordAssignedToID() {\n    return this._recordAssignedToID;\n  }\n\n  set recordAssignedToID(id) {\n    this._recordAssignedToID = id;\n  }\n\n  get recordStatus() {\n    return this._recordStatus;\n  }\n}\n"]}