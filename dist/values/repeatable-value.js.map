{"version":3,"sources":["../../src/values/repeatable-value.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,IAAM,kBAAkB,GAAlB;;IAEe;;;AACnB,WADmB,eACnB,CAAY,OAAZ,EAAqB,KAArB,EAA4B;0BADT,iBACS;;uEADT,4BAEX,SAAS,QADW;;AAG1B,UAAK,MAAL,GAAc,EAAd,CAH0B;;AAK1B,QAAI,SAAS,IAAT,EAAe;;;;;;AACjB,6BAAiB,+BAAjB,oGAAwB;cAAf,mBAAe;;AACtB,gBAAK,MAAL,CAAY,IAAZ,CAAiB,kCAAwB,MAAK,OAAL,EAAc,IAAtC,EAA4C,MAAK,MAAL,CAAY,MAAZ,CAA7D,EADsB;SAAxB;;;;;;;;;;;;;;OADiB;KAAnB;iBAL0B;GAA5B;;eADmB;;6BA+CV;AACP,UAAI,KAAK,OAAL,EAAc;AAChB,eAAO,IAAP,CADgB;OAAlB;;AAIA,UAAM,QAAQ,EAAR,CALC;;;;;;;AAOP,8BAAiB,KAAK,MAAL,2BAAjB,wGAA8B;cAArB,oBAAqB;;AAC5B,gBAAM,IAAN,CAAW,KAAK,MAAL,EAAX,EAD4B;SAA9B;;;;;;;;;;;;;;OAPO;;AAWP,aAAO,KAAP,CAXO;;;;4BAsBD,OAAO;AACb,aAAO,KAAP,CADa;;;;6BAIN,OAAO;AACd,aAAO,KAAP,CADc;;;;+BAIL,OAAO;AAChB,aAAO,KAAP,CADgB;;;;+BAIP,OAAO;AAChB,aAAO,KAAP,CADgB;;;;kCAIJ,OAAO;AACnB,aAAO,KAAP,CADmB;;;;6BAIZ,UAAU;AACjB,aAAO,KAAK,MAAL,CAAY,KAAZ,GAAoB,GAApB,CAAwB,QAAxB,CAAP,CADiB;;;;gCAIP,UAAU;AACpB,WAAK,QAAL,CAAc,QAAd,EADoB;;;;oCAIN;AACd,UAAM,aAAa;AACjB,YAAI,eAAK,EAAL,EAAJ;AACA,qBAAa,EAAb;OAFI,CADQ;;AAMd,UAAM,OAAO,kCAAwB,KAAK,OAAL,EAAc,UAAtC,EAAkD,KAAK,MAAL,CAAY,MAAZ,CAAzD,CANQ;;AAQd,WAAK,MAAL,CAAY,IAAZ,CAAiB,IAAjB,EARc;;AAUd,aAAO,IAAP,CAVc;;;;wBApFF;AACZ,aAAO,KAAK,MAAL,CAAY,MAAZ,KAAuB,CAAvB,CADK;;;;wBAIK;AACjB,UAAI,KAAK,MAAL,KAAgB,CAAhB,EAAmB;AACrB,eAAO,QAAP,CADqB;OAAvB,MAEO;AACL,eAAO,KAAK,MAAL,GAAc,QAAd,CADF;OAFP;;;;wBAOoB;AACpB,UAAI,KAAK,OAAL,EAAc;AAChB,eAAO,IAAP,CADgB;OAAlB;;AAIA,UAAM,SAAS,EAAT,CALc;;;;;;;AAOpB,8BAAiB,KAAK,MAAL,2BAAjB,wGAA8B;cAArB,oBAAqB;;AAC5B,cAAM,cAAc,KAAK,eAAL,CADQ;;AAG5B,cAAI,oBAAU,SAAV,CAAoB,WAApB,CAAJ,EAAsC;AACpC,mBAAO,IAAP,CAAY,WAAZ,EADoC;WAAtC;SAHF;;;;;;;;;;;;;;OAPoB;;AAepB,aAAO,OAAO,IAAP,CAAY,eAAZ,CAAP,CAfoB;;;;wBAkBT;AACX,aAAO,KAAK,MAAL,CAAY,MAAZ,CADI;;;;wBAkBK;AAChB,aAAO,IAAP,CADgB;;;;wBAIG;AACnB,aAAO,IAAP,CADmB;;;;SAjEF","file":"repeatable-value.js","sourcesContent":["import FormValue from './form-value';\nimport RepeatableItemValue from './repeatable-item-value';\nimport TextUtils from '../utils/text-utils';\nimport uuid from 'uuid';\n\nconst SearchSeparator = ' ';\n\nexport default class RepeatableValue extends FormValue {\n  constructor(element, items) {\n    super(element, items);\n\n    this._items = [];\n\n    if (items != null) {\n      for (let item of items) {\n        this._items.push(new RepeatableItemValue(this.element, item, this._items.length));\n      }\n    }\n  }\n\n  get isEmpty() {\n    return this._items.length === 0;\n  }\n\n  get displayValue() {\n    if (this.length === 1) {\n      return '1 Item';\n    } else {\n      return this.length + ' Items';\n    }\n  }\n\n  get searchableValue() {\n    if (this.isEmpty) {\n      return null;\n    }\n\n    const values = [];\n\n    for (let item of this._items) {\n      const searchValue = item.searchableValue;\n\n      if (TextUtils.isPresent(searchValue)) {\n        values.push(searchValue);\n      }\n    }\n\n    return values.join(SearchSeparator);\n  }\n\n  get length() {\n    return this._items.length;\n  }\n\n  toJSON() {\n    if (this.isEmpty) {\n      return null;\n    }\n\n    const items = [];\n\n    for (let item of this._items) {\n      items.push(item.toJSON());\n    }\n\n    return items;\n  }\n\n  get columnValue() {\n    return null;\n  }\n\n  get multipleValues() {\n    return null;\n  }\n\n  isEqual(value) {\n    return false;\n  }\n\n  contains(value) {\n    return false;\n  }\n\n  startsWith(value) {\n    return false;\n  }\n\n  isLessThan(value) {\n    return false;\n  }\n\n  isGreaterThan(value) {\n    return false;\n  }\n\n  mapItems(callback) {\n    return this._items.slice().map(callback);\n  }\n\n  forEachItem(callback) {\n    this.mapItems(callback);\n  }\n\n  createNewItem() {\n    const attributes = {\n      id: uuid.v4(),\n      form_values: {}\n    };\n\n    const item = new RepeatableItemValue(this.element, attributes, this._items.length);\n\n    this._items.push(item);\n\n    return item;\n  }\n}\n"]}