{"version":3,"sources":["../../src/values/signature-value.js"],"names":["SignatureValue","element","attributes","_identifier","signature_id","_timestamp","parseISOTimestamp","timestamp","clear","format","part","formatSignatureURL","formatSignatureViewerURL","args","isEmpty","id","toJSON","formatISOTimestamp","isEqual","value","contains","startsWith","isLessThan","isGreaterThan","Date","TypeError","key"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;;;;;;;;;;;IAEqBA,c;;;AACnB,0BAAYC,OAAZ,EAAqBC,UAArB,EAAiC;AAAA;;AAAA,iDAC/B,sBAAMD,OAAN,EAAeC,UAAf,CAD+B;;AAG/B,QAAIA,UAAJ,EAAgB;AACd,YAAKC,WAAL,GAAmBD,WAAWE,YAA9B;AACA,YAAKC,UAAL,GAAkB,oBAAUC,iBAAV,CAA4BJ,WAAWK,SAAvC,CAAlB;AACD;AAN8B;AAOhC;;2BAsBDC,K,oBAAQ;AACN,SAAKL,WAAL,GAAmB,IAAnB;AACA,SAAKE,UAAL,GAAkB,IAAlB;AACD,G;;2BAcDI,M,yBAA6E;AAAA,yBAArEC,IAAqE;AAAA,QAArEA,IAAqE,6BAA9D,IAA8D;AAAA,QAAxDC,kBAAwD,QAAxDA,kBAAwD;AAAA,QAApCC,wBAAoC,QAApCA,wBAAoC;AAAA,QAAPC,IAAO;;AAC3E,QAAI,KAAKC,OAAT,EAAkB;AAChB,aAAO,IAAP;AACD;;AAED,QAAIJ,SAAS,WAAb,EAA0B;AACxB,aAAO,KAAKH,SAAZ;AACD,KAFD,MAEO,IAAIG,SAAS,MAAT,IAAmBE,wBAAvB,EAAiD;AACtD,aAAOA,yBAAyB,IAAzB,EAA+BC,IAA/B,CAAP;AACD,KAFM,MAEA,IAAIH,SAAS,KAAT,IAAkBC,kBAAtB,EAA0C;AAC/C,aAAOA,mBAAmB,IAAnB,EAAyBE,IAAzB,CAAP;AACD;;AAED,WAAO,KAAKE,EAAZ;AACD,G;;2BAuBDC,M,qBAAS;AACP,QAAI,KAAKF,OAAT,EAAkB;AAChB,aAAO,IAAP;AACD;;AAED,WAAO;AACLV,oBAAc,KAAKD,WADd;AAELI,iBAAW,oBAAUU,kBAAV,CAA6B,KAAKZ,UAAlC;AAFN,KAAP;AAID,G;;2BAEDa,O,oBAAQC,K,EAAO;AACb,WAAO,KAAP;AACD,G;;2BAEDC,Q,qBAASD,K,EAAO;AACd,WAAO,KAAP;AACD,G;;2BAEDE,U,uBAAWF,K,EAAO;AAChB,WAAO,KAAP;AACD,G;;2BAEDG,U,uBAAWH,K,EAAO;AAChB,WAAO,KAAP;AACD,G;;2BAEDI,a,0BAAcJ,K,EAAO;AACnB,WAAO,KAAP;AACD,G;;;;wBAvGQ;AACP,aAAO,KAAKhB,WAAZ;AACD,K;sBAEMY,E,EAAI;AACT,WAAKZ,WAAL,GAAmBY,EAAnB;AACD;;;wBAEe;AACd,aAAO,KAAKV,UAAZ;AACD,K;sBAEaE,S,EAAW;AACvB,UAAI,EAAEA,qBAAqBiB,IAAvB,CAAJ,EAAkC;AAChC,cAAM,IAAIC,SAAJ,CAAc,0BAAd,CAAN;AACD;;AAED,WAAKpB,UAAL,GAAkBE,SAAlB;AACD;;;wBAOa;AACZ,aAAO,KAAKJ,WAAL,IAAoB,IAA3B;AACD;;;wBAEkB;AACjB,aAAO,KAAKW,OAAL,GAAe,IAAf,GAAsB,aAA7B;AACD;;;wBAEqB;AACpB,aAAO,IAAP;AACD;;;wBAkBY;AACX,aAAO,KAAKA,OAAL,GAAe,CAAf,GAAmB,CAA1B;AACD;;;wBAEiB;AAChB,UAAI,KAAKA,OAAT,EAAkB;AAChB,eAAO,IAAP;AACD;;AAED,UAAMK,QAAQ,EAAd;;AAEAA,YAAM,MAAM,KAAKlB,OAAL,CAAayB,GAAnB,GAAyB,YAA/B,IAA+C,KAAKnB,SAApD;AACAY,YAAM,MAAM,KAAKlB,OAAL,CAAayB,GAAzB,IAAgC,KAAKvB,WAArC;;AAEA,aAAOgB,KAAP;AACD;;;wBAEoB;AACnB,aAAO,IAAP;AACD;;;;;;kBAlFkBnB,c","file":"signature-value.js","sourcesContent":["import FormValue from './form-value';\nimport DateUtils from '../utils/date-utils';\n\nexport default class SignatureValue extends FormValue {\n  constructor(element, attributes) {\n    super(element, attributes);\n\n    if (attributes) {\n      this._identifier = attributes.signature_id;\n      this._timestamp = DateUtils.parseISOTimestamp(attributes.timestamp);\n    }\n  }\n\n  get id() {\n    return this._identifier;\n  }\n\n  set id(id) {\n    this._identifier = id;\n  }\n\n  get timestamp() {\n    return this._timestamp;\n  }\n\n  set timestamp(timestamp) {\n    if (!(timestamp instanceof Date)) {\n      throw new TypeError('timestamp must be a Date');\n    }\n\n    this._timestamp = timestamp;\n  }\n\n  clear() {\n    this._identifier = null;\n    this._timestamp = null;\n  }\n\n  get isEmpty() {\n    return this._identifier == null;\n  }\n\n  get displayValue() {\n    return this.isEmpty ? null : '1 Signature';\n  }\n\n  get searchableValue() {\n    return null;\n  }\n\n  format({part = null, formatSignatureURL, formatSignatureViewerURL, ...args}) {\n    if (this.isEmpty) {\n      return null;\n    }\n\n    if (part === 'timestamp') {\n      return this.timestamp;\n    } else if (part === 'view' && formatSignatureViewerURL) {\n      return formatSignatureViewerURL(this, args);\n    } else if (part === 'url' && formatSignatureURL) {\n      return formatSignatureURL(this, args);\n    }\n\n    return this.id;\n  }\n\n  get length() {\n    return this.isEmpty ? 0 : 1;\n  }\n\n  get columnValue() {\n    if (this.isEmpty) {\n      return null;\n    }\n\n    const value = {};\n\n    value['f' + this.element.key + '_timestamp'] = this.timestamp;\n    value['f' + this.element.key] = this._identifier;\n\n    return value;\n  }\n\n  get multipleValues() {\n    return null;\n  }\n\n  toJSON() {\n    if (this.isEmpty) {\n      return null;\n    }\n\n    return {\n      signature_id: this._identifier,\n      timestamp: DateUtils.formatISOTimestamp(this._timestamp)\n    };\n  }\n\n  isEqual(value) {\n    return false;\n  }\n\n  contains(value) {\n    return false;\n  }\n\n  startsWith(value) {\n    return false;\n  }\n\n  isLessThan(value) {\n    return false;\n  }\n\n  isGreaterThan(value) {\n    return false;\n  }\n}\n"]}